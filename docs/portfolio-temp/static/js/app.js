!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":9000/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(l=i.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(l,"string"))?r:String(r)),i)}var l,r}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,l,r,o,s=[],a=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);a=!0);}catch(e){u=!0,l=e}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=function(){function t(){e(this,t)}return n(t,null,[{key:"debounce",value:function(e,t){var n;return function(){var i=arguments,l=this;clearTimeout(n),n=setTimeout((function(){e.apply(l,i)}),t)}}},{key:"throttle",value:function(e,t){var n,i;return function(){var l=this,r=+new Date,o=arguments;n&&r<n+t?(clearTimeout(i),i=setTimeout((function(){n=r,e.apply(l,o)}),t)):(n=r,e.apply(l,o))}}}]),t}(),o=new(function(){function t(){e(this,t);var n=i(document.querySelectorAll(".carousel .projects ul"),2);this._$ulTitle=n[0],this._$ulIllustration=n[1],this._$lisTitle=this._$ulTitle.querySelectorAll("li"),this._$lisIllustration=this._$ulIllustration.querySelectorAll("li"),this._lenLi=parseInt(this._$ulTitle.closest(".carousel").dataset.len,10),this._roundHeightLiTitle=0,this._roundHeightLiIllustration=0,this._index=0}return n(t,[{key:"_setHeightLiTitle",value:function(){this._roundHeightLiTitle=Math.ceil(this._$lisTitle[0].getBoundingClientRect().height)}},{key:"_setHeightLiIllustration",value:function(){this._roundHeightLiIllustration=Math.ceil(this._$lisIllustration[0].getBoundingClientRect().height)}},{key:"_setCenterY",value:function(){this._$ulTitle.closest(".wrap").style.marginTop="-".concat(this._roundHeightLiTitle/2,"px"),this._$ulIllustration.closest(".wrap").style.marginTop="-".concat(this._roundHeightLiIllustration/2,"px")}},{key:"_setPosMask",value:function(){var e=window.innerHeight/2+this._roundHeightLiTitle/2;document.querySelectorAll("style.before-after").length&&document.querySelector("style.before-after").remove(),document.head.insertAdjacentHTML("beforeend",'\n                <style class="before-after">\n                    .carousel .title:before{\n                        bottom: %%VALUE%%px;\n                    }\n                    .carousel .title:after{\n                        top: %%VALUE%%px;\n                    }\n                </style>\n            '.replace(/%%VALUE%%/g,e))}},{key:"_setIndex",value:function(e){this._index=e.deltaY>=0?this._index+1:this._index-1}},{key:"_setPosUl",value:function(){var e=2*this._lenLi-1;this._$ulTitle.style.marginTop="-".concat(e*this._$lisTitle[0].getBoundingClientRect().height,"px"),this._$ulIllustration.style.marginTop="-".concat(e*this._$lisIllustration[0].getBoundingClientRect().height,"px")}},{key:"onResize",value:function(e){var t=this;window.addEventListener("resize",e.debounce((function(e){console.log("onresize"),t._setHeightLiTitle(),t._setHeightLiIllustration(),t._setPosMask(),t._setCenterY(),t._setPosUl()}),800))}},{key:"onLoad",value:function(){var e=this;window.addEventListener("load",(function(t){console.log("onload"),e._setHeightLiTitle(),e._setHeightLiIllustration(),e._setPosMask(),e._setCenterY(),e._setPosUl()}))}},{key:"onWheel",value:function(e){var t=this;window.addEventListener("wheel",e.debounce((function(e){console.log("onWheel"),t._setIndex(e);var n=t._$lisTitle[0].getBoundingClientRect().height,l=t._$lisIllustration[0].getBoundingClientRect().height,r=i(t._index>=0?["","-"]:["-",""],2),o=r[0],s=r[1],a=t._index>=0?t._index:Math.abs(t._index);console.log(">>> ",t._index%t._lenLi);var u=t._$ulTitle.querySelectorAll("li");console.log(2*t._lenLi-1),console.log(Array.from(u).slice(0,2*t._lenLi-1)),console.log(Array.from(u).slice(2*t._lenLi-1)),t._$ulTitle.style.transform="translateY(".concat(o).concat(a*n,"px)"),t._$ulIllustration.style.transform="translateY(".concat(s).concat(a*l,"px)")}),80))}}]),t}());o.onLoad(),o.onResize(r),o.onWheel(r)}();
