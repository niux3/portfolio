!function(t,e){t&&!t.getElementById("livereloadscript")&&((e=t.createElement("script")).async=1,e.src="//"+(self.location.host||"localhost").split(":")[0]+":9000/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e))}(self.document),function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(l=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(l,"string"))?r:String(r)),i)}var l,r}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,l,r,o,s=[],u=!0,a=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=r.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){a=!0,l=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(a)throw l}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var r=function(){function e(){t(this,e)}return n(e,null,[{key:"debounce",value:function(t,e){var n;return function(){var i=arguments,l=this;clearTimeout(n),n=setTimeout((function(){t.apply(l,i)}),e)}}},{key:"throttle",value:function(t,e){var n,i;return function(){var l=this,r=+new Date,o=arguments;n&&r<n+e?(clearTimeout(i),i=setTimeout((function(){n=r,t.apply(l,o)}),e)):(n=r,t.apply(l,o))}}}]),e}(),o=new(function(){function e(){t(this,e);var n=i(document.querySelectorAll(".carousel .projects ul"),2);this._$ulTitle=n[0],this._$ulIllustration=n[1],this._$lisTitle=this._$ulTitle.querySelectorAll("li"),this._$lisIllustration=this._$ulIllustration.querySelectorAll("li"),this._lenLi=parseInt(this._$ulTitle.closest(".carousel").dataset.len,10),this._roundHeightLiTitle=0,this._roundHeightLiIllustration=0,this._index=0}return n(e,[{key:"_setHeightLiTitle",value:function(){this._roundHeightLiTitle=Math.ceil(this._$lisTitle[0].getBoundingClientRect().height)}},{key:"_setHeightLiIllustration",value:function(){this._roundHeightLiIllustration=Math.ceil(this._$lisIllustration[0].getBoundingClientRect().height)}},{key:"_setCenterY",value:function(){this._$ulTitle.closest(".wrap").style.marginTop="-".concat(this._roundHeightLiTitle/2,"px"),this._$ulIllustration.closest(".wrap").style.marginTop="-".concat(this._roundHeightLiIllustration/2,"px")}},{key:"_setPosMask",value:function(){var t=window.innerHeight/2+this._roundHeightLiTitle/2;document.querySelectorAll("style.before-after").length&&document.querySelector("style.before-after").remove(),document.head.insertAdjacentHTML("beforeend",'\n                <style class="before-after">\n                    .carousel .title:before{\n                        bottom: %%VALUE%%px;\n                    }\n                    .carousel .title:after{\n                        top: %%VALUE%%px;\n                    }\n                </style>\n            '.replace(/%%VALUE%%/g,t))}},{key:"_setIndex",value:function(t){this._index=t.deltaY>=0?this._index+1:this._index-1}},{key:"_setPosUl",value:function(){var t=2*this._lenLi-2;this._$ulTitle.style.marginTop="-".concat(t*this._$lisTitle[0].getBoundingClientRect().height,"px"),this._$ulIllustration.style.marginTop="-".concat(t*this._$lisIllustration[0].getBoundingClientRect().height,"px")}},{key:"onResize",value:function(t){var e=this;window.addEventListener("resize",t.debounce((function(t){console.log("onresize"),e._setHeightLiTitle(),e._setHeightLiIllustration(),e._setPosMask(),e._setCenterY(),e._setPosUl()}),50))}},{key:"onLoad",value:function(){var t=this;window.addEventListener("load",(function(e){console.log("onload"),t._setHeightLiTitle(),t._setHeightLiIllustration(),t._setPosMask(),t._setCenterY(),t._setPosUl()}))}},{key:"onWheel",value:function(t){var e=this;window.addEventListener("wheel",t.debounce((function(t){console.log("onWheel"),e._setIndex(t),console.log(e._index);var n=e._$lisTitle[0].getBoundingClientRect().height,i=e._$lisIllustration[0].getBoundingClientRect().height;e._$ulTitle.style.transform="translateY("+e._index*n+"px)",e._$ulIllustration.style.transform="translateY(-"+e._index*i+"px)"}),50))}}]),e}());o.onLoad(),o.onResize(r),o.onWheel(r)}();
