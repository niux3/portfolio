!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":9000/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return i(this,n)}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,p=function t(){e(this,t),this.url=null,this.controller=null,this.action=null,this.params=null},m=[{re:/about/,action:"about@PagesController"},{re:/contact/,action:"contact@PagesController"},{re:/project-([0-9]+)-([0-9a-z-]+)/i,action:"project@ProjectsController"}],d=function(){function t(){e(this,t),this._routes=m}return n(t,[{key:"getFragment",value:function(){var e=window.location.href.match(/#(.*)$/);return e?e[1]:""}},{key:"check",value:function(e){for(var t=0,n=this._routes.length;t<n;t++){var r=this._routes[t],o=this.getFragment().match(r.re);if(o){var i=u(r.action.split("@"),2),a=i[0],c=i[1];e.controller=c,e.action=a,e.params=o.slice(1);break}}}}]),t}(),h=function(){function t(){e(this,t),console.log("ErrorsController loaded")}return n(t,[{key:"e404",value:function(){document.getElementById("app").innerHTML="\n            <h1><strong>404</strong></h1>\n            <p>page not found</p>\n        "}}]),t}(),y=function(){function t(){e(this,t),null===sessionStorage.getItem("data")&&fetch("./public/js/export.json").then((function(e){return e.text().then((function(e){sessionStorage.setItem("data",e)}))})),this._data=sessionStorage.getItem("data")}return n(t,[{key:"get",value:function(){return this._data}}]),t}(),v=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(i,t);var r=a(i);function i(t){return e(this,i),r.call(this,t)}return n(i,[{key:"project",value:function(e,t){console.log(">> ",this._data.find((function(t){return t.id===parseInt(e,10)}))),document.getElementById("app").innerHTML="\n            <h1>".concat(e," - ").concat(t,"</h1>\n            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eaque velit omnis quia soluta, a eligendi animi iusto fugiat reiciendis unde ab consequuntur aspernatur harum, voluptatum tempore, praesentium aut molestiae. Atque! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Expedita quibusdam et vero quidem recusandae impedit, ipsam laudantium molestias sapiente, voluptas maxime rerum numquam, eius facere at amet ipsum, alias praesentium!</p>\n        ")}}]),i}((function t(n){e(this,t),(new y).get(),this._data=JSON.parse(sessionStorage.getItem("data"))})),g=function(){function t(n){e(this,t),console.log("pagesController loaded",n)}return n(t,[{key:"about",value:function(){document.getElementById("app").innerHTML="\n            <h1>Ã  propos de nous</h1>\n            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime illum, autem dignissimos. Est saepe consectetur itaque repellendus ab eum eveniet modi temporibus, minima maiores, veniam optio doloremque. Possimus dolore, iure.</p>\n        "}},{key:"contact",value:function(){document.getElementById("app").innerHTML="\n            <h1>contact</h1>\n            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime illum, autem dignissimos. Est saepe consectetur itaque repellendus ab eum eveniet modi temporibus, minima maiores, veniam optio doloremque. Possimus dolore, iure.</p>\n        "}}]),t}(),b=Object.freeze({__proto__:null,ErrorsController:h,ProjectsController:v,PagesController:g});(f=new(function(){function t(){e(this,t),this._request=new p}return n(t,[{key:"run",value:function(){var e=this,t=new d;["load","hashchange"].forEach((function(n){window.addEventListener(n,(function(n){try{e._request.controller=null,e._request.params=null,e._request.action=null,e._request.url=window.location.hash,t.check(e._request);var r=e._load();r[e._request.action].apply(r,c(e._request.params))}catch(n){e._errors(n)}}))}))}},{key:"_load",value:function(){try{return new b[this._request.controller](this._request)}catch(e){this._errors(e)}}},{key:"_errors",value:function(e){new h(this._request).e404()}},{key:"navigateTo",value:function(e){return e=e||"",window.location.href="".concat(window.location.href.replace(/#(.*)$/,""),"#").concat(e),this}}]),t}())).run(),""===window.location.hash&&f.navigateTo("/about")}();
