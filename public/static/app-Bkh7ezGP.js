var de=o=>{throw TypeError(o)};var le=(o,t,r)=>t.has(o)||de("Cannot "+r);var u=(o,t,r)=>(le(o,t,"read from private field"),r?r.call(o):t.get(o)),g=(o,t,r)=>t.has(o)?de("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,r),w=(o,t,r,l)=>(le(o,t,"write to private field"),l?l.call(o,r):t.set(o,r),r),M=(o,t,r)=>(le(o,t,"access private method"),r);/* empty css               */class k{static debounce(t,r,l,n){var c,m=null;return function(){var h=n||this,$=arguments,b=function(){m=null,l||(c=t.apply(h,$))},p=l&&!m;return clearTimeout(m),m=setTimeout(b,r),p&&(c=t.apply(h,$)),c}}static throttle(t,r,l,n,c){var m,h,$,b=null,p=0,T=function(){p=new Date,b=null,$=t.apply(m,h)};return function(){var A=new Date;!p&&!l&&(p=A);var I=r-(A-p);return m=c||this,h=arguments,I<=0?(clearTimeout(b),b=null,p=A,$=t.apply(m,h)):!b&&n&&(b=setTimeout(T,I)),$}}static slugify(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}static isMobile(){const t=navigator.userAgent||navigator.vendor||window.opera,r=/android|iphone|ipad|ipod|opera mini|iemobile|blackberry|webos/i.test(t.toLowerCase()),l=window.matchMedia("(pointer: coarse)").matches;return r||l}}class ve{constructor(t){this.$article=t}getPercent(t){this._offsetTop=this.$article.offsetTop,this._heightTotalArticle=this.$article.getBoundingClientRect().height;let r=null,l=0;return t>this._offsetTop&&(r=(t+this._offsetTop)*100/this._heightTotalArticle),l=window.innerHeight*(parseInt(r,10)/100),r=(t+l-this._offsetTop)*100/this._heightTotalArticle,(0>r||isNaN(r))&&(r=0),100<r&&(r=100),r}}class be{constructor(){this.$progressTrue=document.getElementById("progressTrue"),this.$progressTrue.insertAdjacentHTML("afterend",document.getElementById("tplProgressFalse").innerHTML),this.$progressFalse=document.getElementById("progressFalse"),this.$cursorProgress=document.getElementById("cursorProgress")}execute(t){this.$progressTrue.value=t,this.$cursorProgress.style.width=`${t}%`}}var G,V;class Se{constructor(){g(this,G);g(this,V);this.$article=document.querySelector("article"),w(this,G,new ve(this.$article)),w(this,V,new be)}setProgression(t){let r=Math.floor(u(this,G).getPercent(t));this.render(r)}render(t){u(this,V).execute(t)}}G=new WeakMap,V=new WeakMap;class Ee{static run(){if(document.querySelectorAll("article").length>0){let t=new Se,r=["resize","load"];window.addEventListener("scroll",l=>{k.debounce(()=>{t.setProgression(window.scrollY)},200)()},{passive:!0});for(let l of r)window.addEventListener(l,()=>{k.debounce(()=>{t.setProgression(window.scrollY)},200)()})}}}const xe=()=>{let o=document.querySelector("footer .changeMode"),t=localStorage.getItem("theme"),r=l=>{let n={light:{text:"mode sombre",icon:"fa-solid fa-moon"},dark:{text:"mode clair",icon:"fa-solid fa-sun"}},c=[void 0,"light"].some($=>$===document.documentElement.dataset.themePreference),m=c?"dark":"light",h=`Activer le ${n[m].text}`;l.setAttribute("aria-label",h),l.querySelector(".fa-solid").className=n[m].icon,l.querySelector(".text").textContent=h,document.documentElement.dataset.themePreference=m,localStorage.setItem("theme",m)};t?document.documentElement.dataset.themePreference=t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&r(o),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{r(o)}),o!==null&&o.addEventListener(k.isMobile()?"pointerdown":"click",l=>{r(o)})};function Le(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var te={exports:{}},Ae=te.exports,ce;function Te(){return ce||(ce=1,function(o,t){(function(r,l){o.exports=l()})(Ae,function(){var r=Object.defineProperty,l=(i,e,s)=>e in i?r(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s,n=(i,e,s)=>l(i,typeof e!="symbol"?e+"":e,s);class c{constructor(e,s=null){n(this,"attrs"),this.attrs=this.isObject(s)?{...s,...e}:e}isObject(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}add(e,s){this.attrs[e]=s}get(){return{...this.attrs}}}const m=Object.freeze(Object.defineProperty({__proto__:null,IsAlpha:i=>new RegExp("^[a-zA-Z]+$").test(i.trim()),IsAlphaNumeric:i=>new RegExp("^[a-z0-9]+$","i").test(i.trim()),IsBetween:(i,e)=>{let[s,a]=e.split(";");if(!s||!a)throw new Error("Invalid range format. Expected 'minmax'.");const d=typeof i=="string"?parseInt(i,10):i;return d>parseInt(s,10)&&d<parseInt(a,10)},IsBetweenLength:(i,e)=>{if(typeof e!="string")throw new Error("Invalid range format. Expected 'minmax' (isbetweenlength).");if(!e.includes(";"))throw new Error("arguments must be separated by a semicolon example: 2;3 (isbetweenlength).");let[s,a]=e.split(";");return i.length>parseInt(s,10)&&i.length<parseInt(a,10)},IsBoolean:i=>[!0,!1,0,1,"0","1","true","false"].some(e=>e===i),IsCreditCard:i=>{if(i=i.trim(),/[^0-9\- ]+/.test(i)||(i=i.replace(/\D/g,""),i.length<13||i.length>19))return!1;let e=0,s=!1;for(let a=i.length-1;a>=0;a--){let d=parseInt(i[a],10);s&&(d*=2,d>9&&(d-=9)),e+=d,s=!s}return e%10!==0?!1:/^5[1-5]|^2[2-7]/.test(i)?i.length===16:/^4/.test(i)?i.length===13||i.length===16:/^3[47]/.test(i)?i.length===15:/^3(0[0-5]|[68])/.test(i)?i.length===14:/^6011/.test(i)?i.length===16:!1},IsDate:i=>{if(["",null,void 0].some(y=>y===i))return!1;let e=i.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!e)return!1;let[s,a,d,f]=e.map(Number);return d>0&&d<13&&a>0&&a<32768&&f>0&&f<=new Date(a,d,0).getDate()},IsEmail:i=>/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(i.trim()),IsEqualTo:(i,e)=>{var s;return!/^\d+/.test(e)&&e.length>0&&document.querySelectorAll(e)!==null?i===((s=document.querySelector(e))==null?void 0:s.value.trim()):/^\d+$/.test(e)?parseInt(e,10)===parseInt(i,10):e===i},IsIncludes:(i,e)=>e.toString().includes(i.toString()),IsMaxLength:(i,e)=>{if(!/^\d+$/.test(e.toString()))throw new Error('The params of method "is max length" must be a number');return i.length<parseInt(e.toString(),10)},IsMinLength:(i,e)=>{if(!/^\d+$/.test(e.toString()))throw new Error('The params of method "is min length" must be a number');return i.length>parseInt(e.toString(),10)},IsMobilePhone:(i,e)=>{let s={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[1356789][0-9]{8}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(\+?31|0)6?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};return s["en-CA"]=s["en-US"],s["fr-BE"]=s["nl-BE"],s["zh-HK"]=s["en-HK"],!Object.keys(s).includes(e)||typeof i!="string"?!1:s[e].test(i)},IsNotEmpty:i=>[null,void 0].some(e=>e===i)?!1:(i=typeof i=="string"?i.trim():i,i.length!==0),IsNumeric:i=>new RegExp("^[0-9]+$").test(i),IsPostalCode:(i,e)=>{let s=/^\d{3}$/,a=/^\d{4}$/,d=/^\d{5}$/,f=/^\d{6}$/,y={AD:/^AD\d{3}$/,AT:a,AU:a,BE:a,BG:a,BR:/^\d{5}-\d{3}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:a,CZ:/^\d{3}\s?\d{2}$/,DE:d,DK:a,DZ:d,EE:d,ES:d,FI:d,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:a,ID:d,IL:d,IN:f,IS:s,IT:d,JP:/^\d{3}\-\d{4}$/,KE:d,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:a,LV:/^LV\-\d{4}$/,MX:d,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,NL:/^\d{4}\s?[a-z]{2}$/i,NO:a,NZ:a,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:f,RU:f,SA:d,SE:/^[1-9]\d{2}\s?\d{2}$/,SI:a,SK:/^\d{3}\s?\d{2}$/,TN:a,TW:/^\d{3}(\d{2})?$/,UA:d,US:/^\d{5}(-\d{4})?$/,ZA:a,ZM:d};return!Object.keys(y).includes(e)||typeof i!="string"?!1:y[e.toUpperCase()].test(i)},IsUrl:i=>new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(i.trim())},Symbol.toStringTag,{value:"Module"}));class h{constructor(){n(this,"rulesList",{});for(let[e,s]of Object.entries(m))this.rulesList[e.toLowerCase()]=s}get(){return this.rulesList}set(e,s){typeof s=="function"?this.rulesList[e]=s:console.warn(`The rule ${e} isn't a function.`)}}class ${constructor(e){n(this,"message",""),this.element=e}handle(){this.element.$el.classList.contains("error")&&this.element.$el.classList.remove("error"),this.element.$el.classList.contains("success")&&this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.removeAttribute("aria-invalid"),this.element.$el.removeAttribute("aria-describedby"))}toString(){return"neutral"}}class b{constructor(e){n(this,"message",""),this.element=e}handle(){this.element.$el.classList.add("error"),this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.setAttribute("aria-invalid","true"),this.element.$el.setAttribute("aria-describedby",this.element.getId().html))}toString(){return"error"}}class p{constructor(e){n(this,"message",""),this.element=e}handle(){if(this.element.$el.classList.add("success"),this.element.$el.classList.remove("error"),this.element.$el.nodeName.toLowerCase()!=="form"){this.element.$el.setAttribute("aria-invalid","false"),this.element.$el.removeAttribute("aria-describedby");for(let[e,s]of Object.entries(this.element.getParams()))if(e!=="target"&&Object.keys(s).includes("success")){this.element.$el.setAttribute("aria-describedby",this.element.getId().html);break}}}toString(){return"success"}}class T{constructor(e){n(this,"state"),n(this,"$el"),n(this,"id"),n(this,"params"),n(this,"rules"),n(this,"middleware"),this.$el=e.element,this.id={html:e.id.html,fo:e.id.fo,fi:e.id.fi},this.params=e.params,this.rules=e.rules,this.state=new $(this),this.middleware=e.middleware}setState(e){this.state=e,this.state.handle()}errorState(){this.setState(new b(this))}successState(){this.setState(new p(this))}resetState(){this.setState(new $(this))}getState(){return this.state}getId(){return this.id}getParams(){return this.params}on(e,s,a=!1){this.$el.addEventListener(e,d=>{s(d,this)},a)}}class A{extractValue(e){let s=[];return e.querySelectorAll("option").forEach(a=>{a.selected&&s.push(a.value)}),s}}class I{extractValue(e){let s=[];return document.getElementsByName(e.name).forEach(a=>{a.checked&&s.push(a.value)}),s}}class ae{extractValue(e){return e.value.trim()}}const S=new A,E=new I,x=new ae;class q{static getExtractor(e){return e instanceof HTMLSelectElement&&e.hasAttribute("multiple")?this.extractors["select[multiple]"]:e instanceof HTMLInputElement&&this.extractors[`input:${e.type}`]||x}}n(q,"extractors",{"select[multiple]":S,"input:checkbox":E,"input:radio":E});class fe extends T{constructor(e){super(e),this.id.html=`vfo${this.id.fo}__vfi${this.id.fi}`,this.switchRequireAttribute(),[void 0,null].some(s=>this.params===s)&&this.getParamsFromHTML()}update(e,s,a){return a(e)}validate(){var e,s;let a=this.rules.get(),d=q.getExtractor(this.$el),f=d.extractValue(this.$el),y=[],_=this.getRulesList();if(_){for(let v of _)for(let R in a)if(R===v){let U=a[R](f,this.params[R].params),B={status:U,message:this.params[R][U?"success":"error"]};y.push(B)}}return y.every(v=>v.status===!0)?(this.successState(),this.middleware.fieldOnSuccess(this.$el),this.state.message=((e=y.find(v=>v.status))==null?void 0:e.message)||""):(this.errorState(),this.middleware.fieldOnError(this.$el),this.state.message=((s=y.find(v=>!v.status))==null?void 0:s.message)||""),this}displayState(){var e,s,a,d;let f=this.id.html,y=this.state.toString(),_=this.$el.name,v=this.state.message,R=this.$el.closest("form"),U=`.error[data-name="field_${this.$el.name}"], .success[data-name="field_${this.$el.name}"]`,B={target:null,mode:"beforeend"};if(R===null)throw new Error(`this field (${this.$el.name}) must be in HTMLFormElement`);if(this.params.hasOwnProperty("target"))for(let we in this.params.target)(e=R==null?void 0:R.querySelectorAll(this.params.target[we]))==null||e.forEach(ye=>{ye.querySelectorAll(U).length>0||v!==""&&(B={target:R.querySelector(this.params.target[this.state.toString()]),mode:"beforeend"})});else{if(((a=(s=this.$el.parentNode)==null?void 0:s.querySelectorAll(U))==null?void 0:a.length)>0)return;B={target:this.$el,mode:"afterend"}}f&&((d=B.target)==null||d.insertAdjacentHTML(B.mode,this.getTemplate(y,f,_,v)))}clean(){var e;return this.resetState(),document.getElementById(this.id.html)!==null&&((e=document.getElementById(this.id.html))==null||e.remove()),this}getParamsFromHTML(){var e;let s={},a=[void 0,null],d=(e=this.$el.dataset.validateRules)==null?void 0:e.trim().replace(/\s+/g," ").split(" ");if(d===void 0)throw new Error(`this.params is empty (field name : ${this.$el.name})`);d.forEach(f=>{let y={},_={error:""};if(s[f]={},a.every(v=>this.$el.dataset.validateTargetError!==v)&&(y.error=this.$el.dataset.validateTargetError),a.every(v=>this.$el.dataset.validateTargetSuccess!==v)&&(y.success=this.$el.dataset.validateTargetSuccess),["success","error"].some(v=>y.hasOwnProperty(v))&&(s.target=y),this.$el.getAttribute(`data-validate-${f}-args`)!==null&&(_.params=this.$el.getAttribute(`data-validate-${f}-args`).trim()),this.$el.getAttribute(`data-success-${f}`)!==null&&(_.success=this.$el.getAttribute(`data-success-${f}`).trim()),this.$el.getAttribute(`data-error-${f}`)===null)throw new Error(`field ${this.$el.name} doesn't have error message for this rule : ${f}`);_.error=this.$el.getAttribute(`data-error-${f}`).trim(),s[f]=_}),this.params=s}switchRequireAttribute(){this.$el.hasAttribute("required")&&(this.$el.removeAttribute("required"),this.$el.classList.add("require"))}getRulesList(){try{if([void 0,null].some(a=>this.params===a))throw new Error(`this.params is empty (field name : ${this.$el.name})`);let e=[],s=!1;for(let a of Object.keys(this.params))a.trim().replace(/\s+/g," ")!=="target"&&(a==="isempty"?s=!0:e=[...e,a]);return s&&(e=[...e,"isempty"]),e}catch(e){console.error(e)}}getTemplate(e,s,a,d){return`<span id="${s}" data-name="field_${a}" class="${e}">${d}</span>`}}class pe extends T{constructor(e){super(e),n(this,"fields",[]);for(let[s,a]of Object.entries(this.$el.querySelectorAll(this.getSelectorRequiresFields())))this.register(parseInt(s,10),a,e.middleware)}register(e,s,a){let d=Object.keys(this.params).includes(s.name)?this.params[s.name]:null,f={element:s,id:{fo:this.id.fo,fi:e},rules:this.rules,params:d,middleware:a};this.fields=[...this.fields,new fe(f)]}unregister(e){this.fields=this.fields.filter(s=>s.$el!==e.$el)}notify(e){this.fields.forEach((a,d)=>{a.update(a,d,e)});let s=this.fields.every(a=>a.state.toString()==="success")?"success":"error";this[`${s}State`]()}getFields(){return this.fields}getSelectorRequiresFields(){return["input","textarea","select"].map(e=>`${e}.require,${e}[required]`).join(",")}}class ge{constructor(e){n(this,"forms",[]),n(this,"configuration"),this.configuration=e.get(),document.querySelectorAll(this.configuration.options.get().selector).length&&document.querySelectorAll(this.configuration.options.get().selector).forEach(s=>{this.addForm(s)})}addForm(e){let s={element:e,id:{html:`vfo${this.forms.length}_`,fo:this.forms.length,fi:null},state:null,params:this.configuration.options.get().fields,rules:this.configuration.rules,middleware:this.configuration.middleware};this.forms=[...this.forms,new pe(s)]}rmForm(e){this.forms=[...this.forms.filter(s=>s.$el!==e)]}get(){return this.forms}}class $e{constructor(e={}){n(this,"app"),n(this,"formsGroup"),n(this,"middleware",{formOnError(d,f){},formOnSuccess(d,f){},fieldOnError(d){},fieldOnSuccess(d){}});let s={selector:"form",fields:{}},a=new c(e,s);this.app=new c({options:a,rules:new h,middleware:this.middleware}),this.formsGroup=new ge(this.app)}form(){this.formsGroup.get().forEach(e=>{e.on("submit",(s,a)=>{a.notify(d=>d.clean().validate().displayState()),a.getState().toString()==="error"&&(s.preventDefault(),this.middleware.formOnError(s,a.$el)),a.getState().toString()==="success"&&this.middleware.formOnSuccess(s,a.$el)})})}checkForm(e,s){this.formsGroup.get().forEach(a=>{e===a.$el&&(a.notify(d=>d.clean().validate().displayState()),a.getState().toString()==="error"&&s.preventDefault())})}element(e){this.formsGroup.get().forEach(s=>{s.notify(a=>{a.$el===e&&a.clean().validate().displayState()})})}addRequireField(e){this.formsGroup.get().forEach(s=>{s.$el===e.closest("form")&&(e.classList.add("require"),s.register(s.getFields().length,e,this.middleware))})}removeRequireField(e){this.formsGroup.get().forEach(s=>{s.notify(a=>{a.$el===e&&(a.$el.classList.remove("require"),s.unregister(a))})})}addRequireForm(e){let s=!1;this.formsGroup.get().forEach(a=>{a.$el===e&&(s=!0)}),s||this.formsGroup.addForm(e)}removeRequireForm(e){this.formsGroup.rmForm(e)}addRules(e,s){this.app.get().rules.set(e,s)}check(e,s,a={}){return this.app.get().rules.get()[s](e,a)}}return $e})}(te)),te.exports}var Ie=Te();const qe=Le(Ie),_e=()=>{let o=[document.querySelector('input[name="phone"]'),document.querySelector('input[name="date_appointment"]'),document.querySelector('input[name="hour_appointment"]')],t=document.getElementById("formContact"),r=new qe;window.matchMedia("(max-width: 640px)").matches&&o.forEach(l=>{l.hasAttribute("disabled")&&l.closest("label").classList.add("hide")}),window.addEventListener("resize",l=>{o.forEach(n=>{n.hasAttribute("disabled")&&n.closest("label").classList.add("hide")})}),document.querySelector("input[name=appointement]").addEventListener("change",l=>{let n=window.matchMedia("(max-width: 640px)").matches?"hide":"invisible";for(let c of o)c.setAttribute("disabled",!0),c.closest("label").classList.remove("hide","invisible"),c.closest("label").classList.add(n),r.removeRequireField(c),document.querySelectorAll("#errorAppointment .error").length>0&&document.querySelectorAll("#errorAppointment .error").forEach(m=>m.remove()),l.target.checked&&(c.removeAttribute("disabled"),r.addRequireField(c),c.closest("label").classList.remove(n))}),r.addRules("checkphone",l=>/^0[1-8][ .-]?(\d{2}[ .-]?){4}$/.test(l)),r.addRules("datemin",l=>{let n=new Date,c=new Date(l);return c.setHours(0),c.setMinutes(0),n.setHours(0),n.setMinutes(0),n.getTime()<=c.getTime()}),r.addRules("businessday",l=>![0,6].includes(new Date(l).getDay())),r.addRules("betweenhour",(...l)=>{let[n,c]=l,[m,h]=c.split(";"),[$,b]=n.split(":");return parseInt(m,10)<=parseInt($,10)&&parseInt(h,10)>parseInt($,10)}),r.form(),r.middleware.formOnSuccess=(l,n)=>{if(n===t){l.preventDefault();let c=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),m=document.querySelector("input[name=appointement]"),h=l.target,$={},b=new FormData(h),p=["phone","date_appointment","hour_appointment"],T=(S,E)=>{let x=S.closest(".content"),q=document.createElement("div");q.classList.add("result"),q.insertAdjacentHTML("beforeend",`<p class="text-center"><span>${E}</span></p>`),x.insertAdjacentElement("afterend",q),x.classList.add("minimize"),setTimeout(()=>{q.classList.add("show")},0)};b.forEach((S,E)=>{$[E]=S}),m.checked||p.forEach(S=>delete $[S]);let A=Object.entries($).map(([S,E])=>`${S}=${E}`).join("&"),I={method:"POST",headers:c,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",body:A},ae=window.location.origin.includes("rb-webstudio")?h.action:"http://localhost/portfolio/public/services/mail/send.html";fetch(ae,I).then(S=>{if(S.ok===!0)return S.json()}).then(({data:S,errors:E})=>{if(document.querySelectorAll("span.error").forEach(x=>x.remove()),document.querySelectorAll(".require").forEach(x=>x.classList.remove("error")),Object.keys(E).length>0)for(let x in E)if(Object.keys(E).includes(x)){let q=document.querySelector(`*[name="${x}"]`);q.classList.add("error"),q.insertAdjacentHTML("afterend",`<span class="error">${E[x]}</span>`)}else throw new Error("Une erreur est survenue. Veuillez réessayer plus tard.");else h.reset(),T(h,"Merci pour votre message. <br>Je vous recontacte dans les plus brefs délais. <br>Vous allez recevoir une réponse automatique")}).catch(S=>{console.error(S),T(h,"Une erreur est survenue. Veuillez réessayer plus tard.")})}}};var Z;class Re{constructor(){g(this,Z)}setStrategy(t){w(this,Z,t)}execute(t){var r;(r=u(this,Z))==null||r.execute(t)}}Z=new WeakMap;class H{constructor(){if(new.target===H)throw new Error("Cannot instantiate AbstractStrategy directly")}_sendLog(t){t={...t,theme:localStorage.getItem("theme")};let r=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}),l=new FormData;for(let h in t)l.append(h,t[h]);let n={method:"POST",headers:r,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",keepalive:!0,body:l},c="/services/pages/views-log.html",m=window.location.origin.includes("rb-webstudio")?c:`http://localhost/portfolio/public/${c}`;fetch(m,n).then(h=>{if(h.ok===!0)return h.json()}).catch(h=>console.warn("error >",h))}_logStart(t){this._sendLog({type:"start",path:t})}_logClick(t){this._sendLog({type:"click",path:t})}_logRead(t){this._sendLog({type:"read",path:t})}_logEnd(t){window.addEventListener("unload",r=>{this._sendLog({type:"end",path:t})})}execute(){throw new Error("Cannot instantiate AbstractStrategy directly")}}class Oe extends H{_logRead(t){let r=document.querySelector("progress"),l=!1;window.addEventListener("scroll",n=>{k.debounce(()=>{r.value>=50&&!l&&(this._sendLog({type:"read",path:t}),l=!0)},200)()})}execute(t){this._logStart(t),this._logRead(t)}}class ke extends H{_logClick(t){document.querySelectorAll(".work a").forEach(r=>{r.addEventListener("pointerdown",l=>{let n={url:r.getAttribute("href"),text:r.querySelector(".bold").textContent};this._sendLog({type:"click",path:t,...n})})})}execute(t){this._logStart(t),this._logClick(t)}}class Me extends H{_logClick(t){document.querySelectorAll(".posts .items-articles li a").forEach(r=>{r.addEventListener("pointerdown",l=>{let n={url:r.getAttribute("href"),text:r.textContent};this._sendLog({type:"click",path:t,...n})})})}execute(t){this._logStart(t)}}class Ce extends H{_logClick(t){document.querySelectorAll(".posts .items-articles li a").forEach(r=>{r.addEventListener("pointerdown",l=>{let n={url:r.getAttribute("href"),text:r.textContent};this._sendLog({type:"click",path:t,...n})})})}execute(t){this._logStart(t)}}var C,K,re,ue;class Pe{constructor(){g(this,re);g(this,C);g(this,K);w(this,C,window.location.pathname),w(this,K,{"^\\/articles\\/[a-zA-Z0-9\\-]+-\\d+\\.html$":Oe,"^\\/articles\\/index\\.html$":Me,"^\\/articles\\/chercher-articles-par-[a-zA-Z0-9\\-]+\\.html$":Ce,"^\\/$|^\\/index\\.html$":ke})}execute(){let t=new Re,r=M(this,re,ue).call(this,u(this,C));r!==null?(t.setStrategy(new r),t.execute(u(this,C))):console.warn("No strategy found for path:",u(this,C))}}C=new WeakMap,K=new WeakMap,re=new WeakSet,ue=function(t){let r=null;for(let[l,n]of Object.entries(u(this,K)))new RegExp(l).test(t)&&(r=n);return r};var z;class Be{constructor(){g(this,z);w(this,z,[])}add(t){u(this,z).push(t)}notify(t){for(let r of u(this,z))r.update(t)}}z=new WeakMap;var P;class oe{constructor(t){g(this,P);this._el=t,w(this,P,!1)}get $el(){return this._el}checkVisibility(t){throw new Error("Method 'checkVisibility' must be implemented")}update(t){w(this,P,this.checkVisibility(t)),this._el.setAttribute("aria-hidden",u(this,P)),this._el.classList[u(this,P)?"add":"remove"]("displayObserve")}}P=new WeakMap;class ze extends oe{checkVisibility(t){return t>window.innerHeight}}class je extends oe{checkVisibility(t){return document.querySelector("article .share").getBoundingClientRect().y<0}}class Fe extends oe{checkVisibility(t){let r=document.querySelector("header"),l=r.getBoundingClientRect().height,n=parseInt(window.getComputedStyle(r).getPropertyValue("margin-top"),10);return t>l+n}}var O,W,J,X;class De{constructor(t){g(this,O);g(this,W);g(this,J);g(this,X);w(this,O,new Be),w(this,W,new ze(lateralBar.querySelector('a[href="#top"]'))),w(this,J,new je(lateralBar.querySelector(".share"))),w(this,X,new Fe(lateralBar))}init(){u(this,O).add(u(this,W)),u(this,O).add(u(this,J)),u(this,O).add(u(this,X));const t=k.debounce(()=>{u(this,O).notify(window.scrollY)},400);t(),window.addEventListener("scroll",t)}}O=new WeakMap,W=new WeakMap,J=new WeakMap,X=new WeakMap;var j,F,D,se;class Ne{constructor(t){g(this,D);g(this,j);g(this,F);w(this,j,t.querySelectorAll("button")),w(this,F,document.querySelectorAll(".layer"))}init(){let t=k.isMobile()?"pointerdown":"click";u(this,j).forEach(r=>{r.addEventListener(t,l=>{var n;if(r.dataset.panel==="true"){if(r.classList.contains("current")){M(this,D,se).call(this);return}M(this,D,se).call(this);let c=(n=r.dataset.panelTarget)==null?void 0:n.substring(1),m=Array.from(u(this,F)).find(h=>h.id===c);m&&m.classList.add("move"),r.classList.add("current")}})}),document.querySelectorAll(".layer .close").forEach(r=>{r.addEventListener(t,l=>{M(this,D,se).call(this)})})}}j=new WeakMap,F=new WeakMap,D=new WeakSet,se=function(){u(this,j).forEach(t=>t.classList.remove("current")),u(this,F).forEach(t=>t.classList.remove("move"))};var L,ie,Y;class He{constructor(){g(this,L);g(this,ie);g(this,Y);w(this,L,document.getElementById("lateralBar")),w(this,ie,u(this,L).querySelectorAll("button")),w(this,Y,document.body.querySelector("main")),new De(u(this,L)).init(),new Ne(u(this,L)).init()}display(){if(window.matchMedia("( min-width: 961px )").matches){let t=u(this,Y).getBoundingClientRect().width,r=window.innerWidth;u(this,L).classList.remove("visible"),u(this,L).style.right=`${(r-t)/2-40}px`,u(this,L).addEventListener("transitionend",l=>{setTimeout(()=>{u(this,L).classList.add("visible")},1200)})}else window.matchMedia("(max-width: 960px)").matches&&u(this,L).classList.add("visible")}}L=new WeakMap,ie=new WeakMap,Y=new WeakMap;var ne,Q,ee,N,he,me;class Ue{constructor(){g(this,N);g(this,ne,"");g(this,Q,[]);g(this,ee,{});w(this,ee,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})}render(t,r){return M(this,N,me).call(this,t)(r,n=>n.replace(/[&<>"']/g,c=>u(this,ee)[c]||c))}}ne=new WeakMap,Q=new WeakMap,ee=new WeakMap,N=new WeakSet,he=function(t){let r=/\[\[=?-?([\s\S]+?)\]\]|([^\[]+)/g,l,n=[];for(;(l=r.exec(t))!==null;)if(l[1]){let c=l[1].trim();l[0].startsWith("[[=")?n.push({type:"OUTPUT_ESCAPED",value:c}):l[0].startsWith("[[-")?n.push({type:"OUTPUT_RAW",value:c}):n.push({type:"JS_CODE",value:c})}else l[2]&&n.push({type:"TEXT",value:l[2]});return n},me=function(t){let r=`let output = ""; 
`;return w(this,Q,M(this,N,he).call(this,t)),u(this,Q).forEach(l=>{switch(l.type){case"TEXT":r+=`output += ${JSON.stringify(l.value)};
`;break;case"OUTPUT_ESCAPED":r+=`output += escapeHTML(${l.value});
`;break;case"OUTPUT_RAW":r+=`output += ${l.value};
`;break;case"JS_CODE":r+=`${l.value}
`;break}}),r+="return output;",new Function("data","escapeHTML",`with(data) { ${r} }`)};window.addEventListener("DOMContentLoaded",()=>{Ee.run(),xe(),new Pe().execute(),_e();let t=new He;if(t.display(),window.addEventListener("resize",r=>{k.debounce(t.display(),50)()}),document.querySelector("article")){document.querySelector("article");let r=document.getElementById("summary");if(r){let l=[...Array(6).keys()],n=l.map(p=>`article h${p+1}`),c=[...n,"[id^=exempl]"],m=document.querySelectorAll(c.join(", ")),h=document.getElementById("tplSummary"),$=new Ue,b=[];m.forEach((p,T)=>{let A,I;p.id.startsWith("exemple-")?(I=p.parentNode.textContent,A=p.id):(p.setAttribute("id",`_${T}-${k.slugify(p.textContent)}`),A=p.id,I=p.textContent),b.push({url:A,text:I})}),r.querySelector("nav").insertAdjacentHTML("beforeend",$.render(h.textContent,{rows:b})),r.querySelectorAll("nav .button").forEach(p=>{p.addEventListener("pointerdown",T=>{window.scrollTo(0,p.dataset.positionTop)})})}}});
