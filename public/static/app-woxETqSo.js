var Tt=Object.defineProperty;var Ze=s=>{throw TypeError(s)};var kt=(s,e,t)=>e in s?Tt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ke=(s,e,t)=>kt(s,typeof e!="symbol"?e+"":e,t),_e=(s,e,t)=>e.has(s)||Ze("Cannot "+t);var p=(s,e,t)=>(_e(s,e,"read from private field"),t?t.call(s):e.get(s)),y=(s,e,t)=>e.has(s)?Ze("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),E=(s,e,t,r)=>(_e(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),k=(s,e,t)=>(_e(s,e,"access private method"),t);/* empty css               */let P=class{static debounce(e,t,r,i){var o,a=null;return function(){var c=i||this,u=arguments,d=function(){a=null,r||(o=e.apply(c,u))},f=r&&!a;return clearTimeout(a),a=setTimeout(d,t),f&&(o=e.apply(c,u)),o}}static throttle(e,t,r,i,o){var a,c,u,d=null,f=0,g=function(){f=new Date,d=null,u=e.apply(a,c)};return function(){var v=new Date;!f&&!r&&(f=v);var b=t-(v-f);return a=o||this,c=arguments,b<=0?(clearTimeout(d),d=null,f=v,u=e.apply(a,c)):!d&&i&&(d=setTimeout(g,b)),u}}static slugify(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}static isMobile(){const e=navigator.userAgent||navigator.vendor||window.opera,t=/android|iphone|ipad|ipod|opera mini|iemobile|blackberry|webos/i.test(e.toLowerCase()),r=window.matchMedia("(pointer: coarse)").matches;return t||r}};class It{constructor(e){this.$article=e}getPercent(e){this._offsetTop=this.$article.offsetTop,this._heightTotalArticle=this.$article.getBoundingClientRect().height;let t=null,r=0;return e>this._offsetTop&&(t=(e+this._offsetTop)*100/this._heightTotalArticle),r=window.innerHeight*(parseInt(t,10)/100),t=(e+r-this._offsetTop)*100/this._heightTotalArticle,(0>t||isNaN(t))&&(t=0),100<t&&(t=100),t}}class qt{constructor(){this.$progressTrue=document.getElementById("progressTrue"),this.$progressTrue.insertAdjacentHTML("afterend",document.getElementById("tplProgressFalse").innerHTML),this.$progressFalse=document.getElementById("progressFalse"),this.$cursorProgress=document.getElementById("cursorProgress")}execute(e){this.$progressTrue.value=e,this.$cursorProgress.style.width=`${e}%`}}var le,ce;class Ct{constructor(){y(this,le);y(this,ce);this.$article=document.querySelector("article"),E(this,le,new It(this.$article)),E(this,ce,new qt)}setProgression(e){let t=Math.floor(p(this,le).getPercent(e));this.render(t)}render(e){p(this,ce).execute(e)}}le=new WeakMap,ce=new WeakMap;class Rt{static run(){if(document.querySelectorAll("article").length>0){let e=new Ct,t=["resize","load"];window.addEventListener("scroll",r=>{P.debounce(()=>{e.setProgression(window.scrollY)},200)()},{passive:!0});for(let r of t)window.addEventListener(r,()=>{P.debounce(()=>{e.setProgression(window.scrollY)},200)()})}}}function Mt(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var se={exports:{}},Ot=se.exports,Ye;function Pt(){return Ye||(Ye=1,(function(s,e){(function(t,r){s.exports=r()})(Ot,function(){"use strict";var t=Object.defineProperty,r=(h,n,l)=>n in h?t(h,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):h[n]=l,i=(h,n,l)=>r(h,typeof n!="symbol"?n+"":n,l);class o{constructor(n,l=null){i(this,"attrs"),this.attrs=this.isObject(l)?{...l,...n}:n}isObject(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}add(n,l){this.attrs[n]=l}get(){return{...this.attrs}}}const a=Object.freeze(Object.defineProperty({__proto__:null,IsAlpha:h=>new RegExp("^[a-zA-Z]+$").test(h.trim()),IsAlphaNumeric:h=>new RegExp("^[a-z0-9]+$","i").test(h.trim()),IsBetween:(h,n)=>{let[l,m]=n.split(";");if(!l||!m)throw new Error("Invalid range format. Expected 'minmax'.");const w=typeof h=="string"?parseInt(h,10):h;return w>parseInt(l,10)&&w<parseInt(m,10)},IsBetweenLength:(h,n)=>{if(typeof n!="string")throw new Error("Invalid range format. Expected 'minmax' (isbetweenlength).");if(!n.includes(";"))throw new Error("arguments must be separated by a semicolon example: 2;3 (isbetweenlength).");let[l,m]=n.split(";");return h.length>parseInt(l,10)&&h.length<parseInt(m,10)},IsBoolean:h=>[!0,!1,0,1,"0","1","true","false"].some(n=>n===h),IsCreditCard:h=>{if(h=h.trim(),/[^0-9\- ]+/.test(h)||(h=h.replace(/\D/g,""),h.length<13||h.length>19))return!1;let n=0,l=!1;for(let m=h.length-1;m>=0;m--){let w=parseInt(h[m],10);l&&(w*=2,w>9&&(w-=9)),n+=w,l=!l}return n%10!==0?!1:/^5[1-5]|^2[2-7]/.test(h)?h.length===16:/^4/.test(h)?h.length===13||h.length===16:/^3[47]/.test(h)?h.length===15:/^3(0[0-5]|[68])/.test(h)?h.length===14:/^6011/.test(h)?h.length===16:!1},IsDate:h=>{if(["",null,void 0].some(C=>C===h))return!1;let n=h.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!n)return!1;let[l,m,w,A]=n.map(Number);return w>0&&w<13&&m>0&&m<32768&&A>0&&A<=new Date(m,w,0).getDate()},IsEmail:h=>/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(h.trim()),IsEqualTo:(h,n)=>{var l;return!/^\d+/.test(n)&&n.length>0&&document.querySelectorAll(n)!==null?h===((l=document.querySelector(n))==null?void 0:l.value.trim()):/^\d+$/.test(n)?parseInt(n,10)===parseInt(h,10):n===h},IsIncludes:(h,n)=>n.toString().includes(h.toString()),IsMaxLength:(h,n)=>{if(!/^\d+$/.test(n.toString()))throw new Error('The params of method "is max length" must be a number');return h.length<parseInt(n.toString(),10)},IsMinLength:(h,n)=>{if(!/^\d+$/.test(n.toString()))throw new Error('The params of method "is min length" must be a number');return h.length>parseInt(n.toString(),10)},IsMobilePhone:(h,n)=>{let l={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[1356789][0-9]{8}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(\+?31|0)6?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};return l["en-CA"]=l["en-US"],l["fr-BE"]=l["nl-BE"],l["zh-HK"]=l["en-HK"],!Object.keys(l).includes(n)||typeof h!="string"?!1:l[n].test(h)},IsNotEmpty:h=>[null,void 0].some(n=>n===h)?!1:(h=typeof h=="string"?h.trim():h,h.length!==0),IsNumeric:h=>new RegExp("^[0-9]+$").test(h),IsPostalCode:(h,n)=>{let l=/^\d{3}$/,m=/^\d{4}$/,w=/^\d{5}$/,A=/^\d{6}$/,C={AD:/^AD\d{3}$/,AT:m,AU:m,BE:m,BG:m,BR:/^\d{5}-\d{3}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:m,CZ:/^\d{3}\s?\d{2}$/,DE:w,DK:m,DZ:w,EE:w,ES:w,FI:w,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:m,ID:w,IL:w,IN:A,IS:l,IT:w,JP:/^\d{3}\-\d{4}$/,KE:w,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:m,LV:/^LV\-\d{4}$/,MX:w,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,NL:/^\d{4}\s?[a-z]{2}$/i,NO:m,NZ:m,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:A,RU:A,SA:w,SE:/^[1-9]\d{2}\s?\d{2}$/,SI:m,SK:/^\d{3}\s?\d{2}$/,TN:m,TW:/^\d{3}(\d{2})?$/,UA:w,US:/^\d{5}(-\d{4})?$/,ZA:m,ZM:w};return!Object.keys(C).includes(n)||typeof h!="string"?!1:C[n.toUpperCase()].test(h)},IsUrl:h=>new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(h.trim())},Symbol.toStringTag,{value:"Module"}));class c{constructor(){i(this,"rulesList",{});for(let[n,l]of Object.entries(a))this.rulesList[n.toLowerCase()]=l}get(){return this.rulesList}set(n,l){typeof l=="function"?this.rulesList[n]=l:console.warn(`The rule ${n} isn't a function.`)}}class u{constructor(n){i(this,"message",""),this.element=n}handle(){this.element.$el.classList.contains("error")&&this.element.$el.classList.remove("error"),this.element.$el.classList.contains("success")&&this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.removeAttribute("aria-invalid"),this.element.$el.removeAttribute("aria-describedby"))}toString(){return"neutral"}}class d{constructor(n){i(this,"message",""),this.element=n}handle(){this.element.$el.classList.add("error"),this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.setAttribute("aria-invalid","true"),this.element.$el.setAttribute("aria-describedby",this.element.getId().html))}toString(){return"error"}}class f{constructor(n){i(this,"message",""),this.element=n}handle(){if(this.element.$el.classList.add("success"),this.element.$el.classList.remove("error"),this.element.$el.nodeName.toLowerCase()!=="form"){this.element.$el.setAttribute("aria-invalid","false"),this.element.$el.removeAttribute("aria-describedby");for(let[n,l]of Object.entries(this.element.getParams()))if(n!=="target"&&Object.keys(l).includes("success")){this.element.$el.setAttribute("aria-describedby",this.element.getId().html);break}}}toString(){return"success"}}class g{constructor(n){i(this,"state"),i(this,"$el"),i(this,"id"),i(this,"params"),i(this,"rules"),i(this,"middleware"),this.$el=n.element,this.id={html:n.id.html,fo:n.id.fo,fi:n.id.fi},this.params=n.params,this.rules=n.rules,this.state=new u(this),this.middleware=n.middleware}setState(n){this.state=n,this.state.handle()}errorState(){this.setState(new d(this))}successState(){this.setState(new f(this))}resetState(){this.setState(new u(this))}getState(){return this.state}getId(){return this.id}getParams(){return this.params}on(n,l,m=!1){this.$el.addEventListener(n,w=>{l(w,this)},m)}}class v{extractValue(n){let l=[];return n.querySelectorAll("option").forEach(m=>{m.selected&&l.push(m.value)}),l}}class b{extractValue(n){let l=[];return document.getElementsByName(n.name).forEach(m=>{m.checked&&l.push(m.value)}),l}}class S{extractValue(n){return n.value.trim()}}const L=new v,$=new b,x=new S;class I{static getExtractor(n){return n instanceof HTMLSelectElement&&n.hasAttribute("multiple")?this.extractors["select[multiple]"]:n instanceof HTMLInputElement&&this.extractors[`input:${n.type}`]||x}}i(I,"extractors",{"select[multiple]":L,"input:checkbox":$,"input:radio":$});class _ extends g{constructor(n){super(n),this.id.html=`vfo${this.id.fo}__vfi${this.id.fi}`,this.switchRequireAttribute(),[void 0,null].some(l=>this.params===l)&&this.getParamsFromHTML()}update(n,l,m){return m(n)}validate(){var n,l;let m=this.rules.get(),w=I.getExtractor(this.$el),A=w.extractValue(this.$el),C=[],N=this.getRulesList();if(N){for(let R of N)for(let B in m)if(B===R){let te=m[B](A,this.params[B].params),K={status:te,message:this.params[B][te?"success":"error"]};C.push(K)}}return C.every(R=>R.status===!0)?(this.successState(),this.middleware.fieldOnSuccess(this.$el),this.state.message=((n=C.find(R=>R.status))==null?void 0:n.message)||""):(this.errorState(),this.middleware.fieldOnError(this.$el),this.state.message=((l=C.find(R=>!R.status))==null?void 0:l.message)||""),this}displayState(){var n,l,m,w;let A=this.id.html,C=this.state.toString(),N=this.$el.name,R=this.state.message,B=this.$el.closest("form"),te=`.error[data-name="field_${this.$el.name}"], .success[data-name="field_${this.$el.name}"]`,K={target:null,mode:"beforeend"};if(B===null)throw new Error(`this field (${this.$el.name}) must be in HTMLFormElement`);if(this.params.hasOwnProperty("target"))for(let Lt in this.params.target)(n=B==null?void 0:B.querySelectorAll(this.params.target[Lt]))==null||n.forEach(At=>{At.querySelectorAll(te).length>0||R!==""&&(K={target:B.querySelector(this.params.target[this.state.toString()]),mode:"beforeend"})});else{if(((m=(l=this.$el.parentNode)==null?void 0:l.querySelectorAll(te))==null?void 0:m.length)>0)return;K={target:this.$el,mode:"afterend"}}A&&((w=K.target)==null||w.insertAdjacentHTML(K.mode,this.getTemplate(C,A,N,R)))}clean(){var n;return this.resetState(),document.getElementById(this.id.html)!==null&&((n=document.getElementById(this.id.html))==null||n.remove()),this}getParamsFromHTML(){var n;let l={},m=[void 0,null],w=(n=this.$el.dataset.validateRules)==null?void 0:n.trim().replace(/\s+/g," ").split(" ");if(w===void 0)throw new Error(`this.params is empty (field name : ${this.$el.name})`);w.forEach(A=>{let C={},N={error:""};if(l[A]={},m.every(R=>this.$el.dataset.validateTargetError!==R)&&(C.error=this.$el.dataset.validateTargetError),m.every(R=>this.$el.dataset.validateTargetSuccess!==R)&&(C.success=this.$el.dataset.validateTargetSuccess),["success","error"].some(R=>C.hasOwnProperty(R))&&(l.target=C),this.$el.getAttribute(`data-validate-${A}-args`)!==null&&(N.params=this.$el.getAttribute(`data-validate-${A}-args`).trim()),this.$el.getAttribute(`data-success-${A}`)!==null&&(N.success=this.$el.getAttribute(`data-success-${A}`).trim()),this.$el.getAttribute(`data-error-${A}`)===null)throw new Error(`field ${this.$el.name} doesn't have error message for this rule : ${A}`);N.error=this.$el.getAttribute(`data-error-${A}`).trim(),l[A]=N}),this.params=l}switchRequireAttribute(){this.$el.hasAttribute("required")&&(this.$el.removeAttribute("required"),this.$el.classList.add("require"))}getRulesList(){try{if([void 0,null].some(m=>this.params===m))throw new Error(`this.params is empty (field name : ${this.$el.name})`);let n=[],l=!1;for(let m of Object.keys(this.params))m.trim().replace(/\s+/g," ")!=="target"&&(m==="isempty"?l=!0:n=[...n,m]);return l&&(n=[...n,"isempty"]),n}catch(n){console.error(n)}}getTemplate(n,l,m,w){return`<span id="${l}" data-name="field_${m}" class="${n}">${w}</span>`}}class Et extends g{constructor(n){super(n),i(this,"fields",[]);for(let[l,m]of Object.entries(this.$el.querySelectorAll(this.getSelectorRequiresFields())))this.register(parseInt(l,10),m,n.middleware)}register(n,l,m){let w=Object.keys(this.params).includes(l.name)?this.params[l.name]:null,A={element:l,id:{fo:this.id.fo,fi:n},rules:this.rules,params:w,middleware:m};this.fields=[...this.fields,new _(A)]}unregister(n){this.fields=this.fields.filter(l=>l.$el!==n.$el)}notify(n){this.fields.forEach((m,w)=>{m.update(m,w,n)});let l=this.fields.every(m=>m.state.toString()==="success")?"success":"error";this[`${l}State`]()}getFields(){return this.fields}getSelectorRequiresFields(){return["input","textarea","select"].map(n=>`${n}.require,${n}[required]`).join(",")}}class St{constructor(n){i(this,"forms",[]),i(this,"configuration"),this.configuration=n.get(),document.querySelectorAll(this.configuration.options.get().selector).length&&document.querySelectorAll(this.configuration.options.get().selector).forEach(l=>{this.addForm(l)})}addForm(n){let l={element:n,id:{html:`vfo${this.forms.length}_`,fo:this.forms.length,fi:null},state:null,params:this.configuration.options.get().fields,rules:this.configuration.rules,middleware:this.configuration.middleware};this.forms=[...this.forms,new Et(l)]}rmForm(n){this.forms=[...this.forms.filter(l=>l.$el!==n)]}get(){return this.forms}}class xt{constructor(n={}){i(this,"app"),i(this,"formsGroup"),i(this,"middleware",{formOnError(w,A){},formOnSuccess(w,A){},fieldOnError(w){},fieldOnSuccess(w){}});let l={selector:"form",fields:{}},m=new o(n,l);this.app=new o({options:m,rules:new c,middleware:this.middleware}),this.formsGroup=new St(this.app)}form(){this.formsGroup.get().forEach(n=>{n.on("submit",(l,m)=>{m.notify(w=>w.clean().validate().displayState()),m.getState().toString()==="error"&&(l.preventDefault(),this.middleware.formOnError(l,m.$el)),m.getState().toString()==="success"&&this.middleware.formOnSuccess(l,m.$el)})})}checkForm(n,l){this.formsGroup.get().forEach(m=>{n===m.$el&&(m.notify(w=>w.clean().validate().displayState()),m.getState().toString()==="error"&&l.preventDefault())})}element(n){this.formsGroup.get().forEach(l=>{l.notify(m=>{m.$el===n&&m.clean().validate().displayState()})})}addRequireField(n){this.formsGroup.get().forEach(l=>{l.$el===n.closest("form")&&(n.classList.add("require"),l.register(l.getFields().length,n,this.middleware))})}removeRequireField(n){this.formsGroup.get().forEach(l=>{l.notify(m=>{m.$el===n&&(m.$el.classList.remove("require"),l.unregister(m))})})}addRequireForm(n){let l=!1;this.formsGroup.get().forEach(m=>{m.$el===n&&(l=!0)}),l||this.formsGroup.addForm(n)}removeRequireForm(n){this.formsGroup.rmForm(n)}addRules(n,l){this.app.get().rules.set(n,l)}check(n,l,m={}){return this.app.get().rules.get()[l](n,m)}}return xt})})(se,se.exports)),se.exports}var Ht=Pt();const jt=Mt(Ht),_t=()=>{let s=[document.querySelector('input[name="phone"]'),document.querySelector('input[name="date_appointment"]'),document.querySelector('input[name="hour_appointment"]')],e=document.getElementById("formContact"),t=e.querySelector('button[type="submit"]'),r=new jt;window.matchMedia("(max-width: 640px)").matches&&s.forEach(i=>{i.hasAttribute("disabled")&&i.closest("label").classList.add("hide")}),window.addEventListener("resize",i=>{s.forEach(o=>{o.hasAttribute("disabled")&&o.closest("label").classList.add("hide")})}),document.querySelector("input[name=appointement]").addEventListener("change",i=>{let o=window.matchMedia("(max-width: 640px)").matches?"hide":"invisible";for(let a of s)a.setAttribute("disabled",!0),a.closest("label").classList.remove("hide","invisible"),a.closest("label").classList.add(o),r.removeRequireField(a),document.querySelectorAll("#errorAppointment .error").length>0&&document.querySelectorAll("#errorAppointment .error").forEach(c=>c.remove()),i.target.checked&&(a.removeAttribute("disabled"),r.addRequireField(a),a.closest("label").classList.remove(o))}),r.addRules("checkphone",i=>/^0[1-8][ .-]?(\d{2}[ .-]?){4}$/.test(i)),r.addRules("datemin",i=>{let o=new Date,a=new Date(i);return a.setHours(0),a.setMinutes(0),o.setHours(0),o.setMinutes(0),o.getTime()<=a.getTime()}),r.addRules("businessday",i=>![0,6].includes(new Date(i).getDay())),r.addRules("betweenhour",(...i)=>{let[o,a]=i,[c,u]=a.split(";"),[d,f]=o.split(":");return parseInt(c,10)<=parseInt(d,10)&&parseInt(u,10)>parseInt(d,10)}),r.form(),r.middleware.formOnSuccess=(i,o)=>{if(o===e){i.preventDefault();let a=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),c=document.querySelector("input[name=appointement]"),u=i.target,d={},f=new FormData(u),g=["phone","date_appointment","hour_appointment"],v=($,x)=>{let I=$.closest(".content"),_=document.createElement("div");_.classList.add("result"),_.insertAdjacentHTML("beforeend",`<p class="text-center"><span>${x}</span></p>`),I.insertAdjacentElement("afterend",_),I.classList.add("minimize"),setTimeout(()=>{_.classList.add("show")},0)};t.textContent="en cours d'envoi",t.insertAdjacentHTML("afterbegin",'<span class="fa-solid fa-rotate-right"></span>'),t.setAttribute("disabled","disabled"),f.forEach(($,x)=>{d[x]=$}),c.checked||g.forEach($=>delete d[$]);let b=Object.entries(d).map(([$,x])=>`${$}=${x}`).join("&"),S={method:"POST",headers:a,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",body:b},L=window.location.origin.includes("rb-webstudio")?u.action:"http://localhost/portfolio/public/services/mail/send.html";fetch(L,S).then($=>{if($.ok===!0)return $.json()}).then(({data:$,errors:x})=>{if(document.querySelectorAll("span.error").forEach(I=>I.remove()),document.querySelectorAll(".require").forEach(I=>I.classList.remove("error")),Object.keys(x).length>0)for(let I in x)if(Object.keys(x).includes(I)){let _=document.querySelector(`*[name="${I}"]`);_.classList.add("error"),_.insertAdjacentHTML("afterend",`<span class="error">${x[I]}</span>`)}else throw new Error("Une erreur est survenue. Veuillez réessayer plus tard.");else u.reset(),v(u,"Merci pour votre message. <br>Je vous recontacte dans les plus brefs délais. <br>Vous allez recevoir une réponse automatique")}).catch($=>{console.error($),v(u,"Une erreur est survenue. Veuillez réessayer plus tard.")})}}};var ue;class Nt{constructor(){y(this,ue)}setStrategy(e){E(this,ue,e)}execute(e){var t;(t=p(this,ue))==null||t.execute(e)}}ue=new WeakMap;class ee{constructor(){if(new.target===ee)throw new Error("Cannot instantiate AbstractStrategy directly")}_sendLog(e){e={...e,theme:localStorage.getItem("theme")};let t=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}),r=new FormData;for(let c in e)r.append(c,e[c]);let i={method:"POST",headers:t,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",keepalive:!0,body:r},o="/services/pages/views-log.html",a=window.location.origin.includes("rb-webstudio")?o:`http://localhost/portfolio/public/${o}`;fetch(a,i).then(c=>{if(c.ok===!0)return c.json()}).catch(c=>console.warn("error >",c))}_logStart(e){this._sendLog({type:"start",path:e})}_logClick(e){this._sendLog({type:"click",path:e})}_logRead(e){this._sendLog({type:"read",path:e})}_logEnd(e){window.addEventListener("unload",t=>{this._sendLog({type:"end",path:e})})}execute(){throw new Error("Cannot instantiate AbstractStrategy directly")}}class Bt extends ee{_logRead(e){let t=document.querySelector("progress"),r=!1;window.addEventListener("scroll",i=>{P.debounce(()=>{t.value>=50&&!r&&(this._sendLog({type:"read",path:e}),r=!0)},200)()})}execute(e){this._logStart(e),this._logRead(e)}}class Ut extends ee{_logClick(e){document.querySelectorAll(".work a").forEach(t=>{t.addEventListener("pointerdown",r=>{let i={url:t.getAttribute("href"),text:t.querySelector(".bold").textContent};this._sendLog({type:"click",path:e,...i})})})}execute(e){this._logStart(e),this._logClick(e)}}class Dt extends ee{_logClick(e){document.querySelectorAll(".posts .items-articles li a").forEach(t=>{t.addEventListener("pointerdown",r=>{let i={url:t.getAttribute("href"),text:t.textContent};this._sendLog({type:"click",path:e,...i})})})}execute(e){this._logStart(e)}}class Ft extends ee{_logClick(e){document.querySelectorAll(".posts .items-articles li a").forEach(t=>{t.addEventListener("pointerdown",r=>{let i={url:t.getAttribute("href"),text:t.textContent};this._sendLog({type:"click",path:e,...i})})})}execute(e){this._logStart(e)}}var z,de,Ae,rt;class Vt{constructor(){y(this,Ae);y(this,z);y(this,de);E(this,z,window.location.pathname),E(this,de,{"^\\/articles\\/[a-zA-Z0-9\\-]+-\\d+\\.html$":Bt,"^\\/articles\\/index\\.html$":Dt,"^\\/articles\\/chercher-articles-par-[a-zA-Z0-9\\-]+\\.html$":Ft,"^\\/$|^\\/index\\.html$":Ut})}execute(){let e=new Nt,t=k(this,Ae,rt).call(this,p(this,z));t!==null?(e.setStrategy(new t),e.execute(p(this,z))):console.warn("No strategy found for path:",p(this,z))}}z=new WeakMap,de=new WeakMap,Ae=new WeakSet,rt=function(e){let t=null;for(let[r,i]of Object.entries(p(this,de)))new RegExp(r).test(e)&&(t=i);return t};var Y;class it{constructor(){y(this,Y);E(this,Y,[])}add(e){p(this,Y).push(e)}notify(e){for(let t of p(this,Y))t.update(e)}}Y=new WeakMap;var he;class nt{constructor(e){y(this,he);E(this,he,e)}get $el(){return p(this,he).el}update(e){throw new Error("Method 'update' must be implemented")}}he=new WeakMap;var W;class Ve extends nt{constructor(t){super(t);y(this,W);E(this,W,!1)}checkVisibility(t){throw new Error("Method 'checkVisibility' must be implemented")}update(t){E(this,W,this.checkVisibility(t)),this.$el.setAttribute("aria-hidden",p(this,W)),this.$el.classList[p(this,W)?"add":"remove"]("displayObserve")}}W=new WeakMap;class zt extends Ve{checkVisibility(e){return e>window.innerHeight}}class Wt extends Ve{checkVisibility(e){if(document.querySelector("article .share"))return document.querySelector("article .share").getBoundingClientRect().y<0}}class Gt extends Ve{checkVisibility(e){let t=document.querySelector("header"),r=t.getBoundingClientRect().height,i=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top"),10);return e>r+i}}var F,me,fe,pe;class Zt{constructor(e){y(this,F);y(this,me);y(this,fe);y(this,pe);E(this,F,new it),E(this,me,new zt({el:e.querySelector('a[href="#top"]')})),E(this,fe,new Wt({el:e.querySelector(".share")})),E(this,pe,new Gt({el:e}))}init(){p(this,F).add(p(this,me)),p(this,F).add(p(this,fe)),p(this,F).add(p(this,pe));const e=P.debounce(()=>{p(this,F).notify(window.scrollY)},400);e(),window.addEventListener("scroll",e)}}F=new WeakMap,me=new WeakMap,fe=new WeakMap,pe=new WeakMap;var O,Te,ge;class Kt{constructor(){y(this,O);y(this,Te);y(this,ge);document.getElementById("lateralBar")&&(E(this,O,document.getElementById("lateralBar")),E(this,Te,p(this,O).querySelectorAll("button")),E(this,ge,document.querySelector("main")),new Zt(p(this,O)).init())}display(){if(window.matchMedia("( min-width: 961px )").matches){let e=p(this,ge).getBoundingClientRect().width,t=window.innerWidth;p(this,O).classList.remove("visible"),p(this,O).style.right=`${(t-e)/2-40}px`,p(this,O).addEventListener("transitionend",r=>{setTimeout(()=>{p(this,O).classList.add("visible")},500)})}else window.matchMedia("(max-width: 960px)").matches&&p(this,O).classList.add("visible")}}O=new WeakMap,Te=new WeakMap,ge=new WeakMap;class ze{constructor(e){Ke(this,"_layerElement");this._layerElement=e}init(){throw new Error('Method "init" must be implemented')}cleanup(){throw new Error('Method "cleanup" must be implemented')}}var H,ke,Ie,qe,Ce,Re,ot;class We{constructor(){y(this,Re);y(this,H,new Map);y(this,ke,100);y(this,Ie,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});y(this,qe,/[&<>"']/g);y(this,Ce,e=>String(e).replace(p(this,qe),t=>p(this,Ie)[t]))}render(e,t={}){if(!e)throw new Error("Template required");try{return k(this,Re,ot).call(this,e)(t,p(this,Ce))}catch(r){throw new Error(`Template render failed: ${r.message}`)}}clear(){p(this,H).clear()}}H=new WeakMap,ke=new WeakMap,Ie=new WeakMap,qe=new WeakMap,Ce=new WeakMap,Re=new WeakSet,ot=function(e){if(p(this,H).has(e))return p(this,H).get(e);const t=/\[\[=?-?([\s\S]+?)\]\]|([^\[]+)/g;let r,i=`let output="";
`;for(;r=t.exec(e);)if(r[1]){const o=r[1].trim(),a=r[0].slice(0,3);i+=a==="[[="?`output+=escapeHTML(${o});
`:a==="[[-"?`output+=${o};
`:`${o}
`}else r[2]&&(i+=`output+=${JSON.stringify(r[2])};
`);i+="return output;";try{const o=new Function("data","escapeHTML",`with(data){${i}}`);return p(this,H).size>=p(this,ke)&&p(this,H).delete(p(this,H).keys().next().value),p(this,H).set(e,o),o}catch(o){throw new Error(`Template compilation failed: ${o.message}`)}};var G,Me,Oe,at;class Yt extends nt{constructor(t,r){super(t);y(this,Oe);y(this,G);y(this,Me);let i=`#summary nav a[href="#${this.$el.id}"]`;E(this,G,document.querySelector(i)),E(this,Me,r),r.add(this)}update(t){let r=Math.round(window.innerHeight/3);this.$el.getBoundingClientRect().y-r<0?(p(this,G).parentNode.classList.add("active"),p(this,G).parentNode.scrollIntoView({behavior:"smooth",block:"center"})):p(this,G).parentNode.classList.remove("active"),k(this,Oe,at).call(this)}}G=new WeakMap,Me=new WeakMap,Oe=new WeakSet,at=function(){let t=Array.from(document.querySelectorAll("#summary nav a")),r=t.findLastIndex(i=>i.parentNode.classList.contains("active"));r>0&&t.slice(0,r).map(i=>i.parentNode.classList.remove("active"))};var J,Pe,Z;class Jt extends ze{constructor(t){super(t);y(this,J);y(this,Pe);y(this,Z);E(this,J,document.querySelector("article")),p(this,J)&&(E(this,Z,new it),E(this,Pe,document.querySelector("article")))}init(){if(p(this,J)&&this._layerElement){let t=this._layerElement.querySelector("nav"),r=130,i=[...Array(6).keys()],o=i.map(g=>`article h${g+1}`),a=[...o,"[id^=exempl]"],c=document.querySelectorAll(a.join(", ")),u=document.getElementById("tplLayer"),d=new We,f=[];c.forEach((g,v)=>{let b,S;g.id.startsWith("exemple-")?b=g.parentNode.textContent:(g.setAttribute("id",`_${v}-${P.slugify(g.textContent)}`),b=g.textContent),S=`#${g.id}`,f.push({url:S,text:b})}),t.style.height=`${window.innerHeight-r}px`,window.addEventListener("resize",g=>{P.debounce(()=>{t.style.height=`${window.innerHeight-r}px`},200)()}),t.insertAdjacentHTML("beforeend",d.render(u.textContent,{rows:f})),t.addEventListener("click",g=>{if(window.matchMedia("(max-width: 420px)").matches&&g.target.nodeName=="A"){const v=t.closest(".wrap").querySelector(".close");v&&v.dispatchEvent(new Event("click",{bubbles:!0}))}}),c.forEach(g=>new Yt({el:g},p(this,Z))),p(this,Z).notify(window.scrollY),window.addEventListener("scroll",g=>{P.debounce(()=>{p(this,Z).notify(window.scrollY)},500)()})}}}J=new WeakMap,Pe=new WeakMap,Z=new WeakMap;var U,ve,we;class Xt extends ze{constructor(t){super(t);y(this,U);y(this,ve);y(this,we);E(this,U,this._layerElement.querySelector("form")),E(this,ve,this._layerElement.querySelector("#resultSearch")),E(this,we,this._layerElement.querySelector("output"))}init(){p(this,U).addEventListener("submit",t=>{t.preventDefault();let r=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),i={};new FormData(p(this,U)).forEach((d,f)=>{i[f]=d});let a=Object.entries(i).map(([d,f])=>`${encodeURIComponent(d)}=${encodeURIComponent(f)}`).join("&"),c={method:p(this,U).method.toUpperCase(),headers:r,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors"},u=window.location.origin.includes("rb-webstudio")?p(this,U).action:`http://localhost/portfolio/public${p(this,U).getAttribute("action")}`;fetch(`${u}?${a}`,c).then(d=>{if(d.ok===!0)return d.json()}).then(({data:d})=>{let f=new We,g=document.getElementById("tplLayer"),v=Object.keys(d).length,b=[];if(p(this,we).innerHTML=`<strong>${v}</strong> résultat${v>1?"s":""} trouvé${v>1?"s":""}`,v>0){let S=250,L=document.createElement("nav");for(let $ of Object.values(d))b.push({url:`/articles/${$.slug}-${$.id}.html`,text:$.title});L.style.height=`${window.innerHeight-S}px`,window.addEventListener("resize",$=>{Utils.debounce(()=>{L.style.height=`${window.innerHeight-S}px`},200)()}),L.innerHTML=f.render(g.textContent,{rows:b}),p(this,ve).innerHTML=L.outerHTML}})})}}U=new WeakMap,ve=new WeakMap,we=new WeakMap;var ye,X,be,He,lt;class Qt extends ze{constructor(t){super(t);y(this,He);y(this,ye,null);y(this,X,null);y(this,be,null);E(this,be,new We),E(this,ye,this._layerElement.querySelector(".content"))}async init(){p(this,X)||E(this,X,await k(this,He,lt).call(this));let t=parseInt(sessionStorage.getItem("project-id"),10),r=p(this,X).find(i=>i.id===t);p(this,ye).innerHTML=p(this,be).render(document.getElementById("tplLayerProject").innerHTML,r)}}ye=new WeakMap,X=new WeakMap,be=new WeakMap,He=new WeakSet,lt=async function(){try{let t="",r=`${t}/static/data-projects.json`;const i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(t){return console.error("Failed to fetch project details:",t),{}}};const es={summary:Jt,search:Xt,project:Qt};var Q,V,$e,je,T,ct,ut,dt,ht,mt,ft,pt,gt,re;class ts{constructor(e){y(this,T);y(this,Q);y(this,V);y(this,$e,new Map);y(this,je,null);E(this,Q,e.querySelectorAll("button")),E(this,V,document.querySelectorAll(".layer")),k(this,T,gt).call(this)}init(){k(this,T,ct).call(this),k(this,T,ft).call(this),k(this,T,pt).call(this)}get layers(){return p(this,V)}}Q=new WeakMap,V=new WeakMap,$e=new WeakMap,je=new WeakMap,T=new WeakSet,ct=function(){const e=P.isMobile()?"pointerdown":"click";p(this,Q).forEach(t=>{t.addEventListener(e,k(this,T,ut).bind(this))})},ut=function(e){const t=e.currentTarget;if(t.dataset.panel==="true"){if(t.dataset.projectId!==void 0&&sessionStorage.setItem("project-id",t.dataset.projectId),t.classList.contains("current")){k(this,T,re).call(this);return}k(this,T,dt).call(this,t)}},dt=function(e){var i;k(this,T,re).call(this);const t=(i=e.dataset.panelTarget)==null?void 0:i.substring(1),r=document.getElementById(t);r&&(k(this,T,ht).call(this,r,e),k(this,T,mt).call(this,t),t==="search"&&r.querySelector("input[name='q']").focus())},ht=function(e,t){e.classList.add("move"),t.classList.add("current"),t.setAttribute("aria-expanded",!0)},mt=function(e){const t=p(this,$e).get(e);t&&(t.init(),E(this,je,t))},ft=function(){const e=P.isMobile()?"pointerdown":"click";document.querySelectorAll(".layer .close").forEach(t=>{t.addEventListener(e,()=>k(this,T,re).call(this))})},pt=function(){window.addEventListener("keyup",e=>{e.key==="Escape"&&k(this,T,re).call(this)})},gt=function(){let e=null;p(this,V).length&&p(this,V).forEach(t=>{e=new es[t.id](t),e?p(this,$e).set(t.id,e):console.error(`No strategy defined for layer: ${t.id}`)})},re=function(){p(this,Q).forEach(e=>{e.classList.remove("current"),e.setAttribute("aria-expanded",!1)}),p(this,V).forEach(e=>{e.classList.remove("move"),e.id==="search"&&e.querySelector("input[name='q']").blur()})};const Ne=new WeakMap;function Be(s,e,t,r){if(!s&&!Ne.has(e))return!1;const i=Ne.get(e)??new WeakMap;Ne.set(e,i);const o=i.get(t)??new Set;i.set(t,o);const a=o.has(r);return s?o.add(r):o.delete(r),a&&s}function ss(s,e){let t=s.target;if(t instanceof Text&&(t=t.parentElement),t instanceof Element&&s.currentTarget instanceof Node){const r=t.closest(e);if(r&&s.currentTarget.contains(r))return r}}function rs(s,e,t,r={}){const{signal:i,base:o=document}=r;if(i!=null&&i.aborted)return;const{once:a,...c}=r,u=o instanceof Document?o.documentElement:o,d=!!(typeof r=="object"?r.capture:r),f=b=>{const S=ss(b,String(s));if(S){const L=Object.assign(b,{delegateTarget:S});t.call(u,L),a&&(u.removeEventListener(e,f,c),Be(!1,u,t,g))}},g=JSON.stringify({selector:s,type:e,capture:d});Be(!0,u,t,g)||u.addEventListener(e,f,c),i==null||i.addEventListener("abort",()=>{Be(!1,u,t,g)})}function q(){return q=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},q.apply(null,arguments)}const vt=(s,e)=>String(s).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",ae=({hash:s}={})=>window.location.pathname+window.location.search+(s?window.location.hash:""),is=(s,e={})=>{const t=q({url:s=s||ae({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(t,"",s)},ne=(s=null,e={})=>{s=s||ae({hash:!0});const t=q({},window.history.state||{},{url:s,random:Math.random(),source:"swup"},e);window.history.replaceState(t,"",s)},ns=(s,e,t,r)=>{const i=new AbortController;return r=q({},r,{signal:i.signal}),rs(s,e,t,r),{destroy:()=>i.abort()}};class M extends URL{constructor(e,t=document.baseURI){super(e.toString(),t),Object.setPrototypeOf(this,M.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const t=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new M(t)}static fromUrl(e){return new M(e)}}class Se extends Error{constructor(e,t){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=t.url,this.status=t.status,this.aborted=t.aborted||!1,this.timedOut=t.timedOut||!1}}async function os(s,e={}){var t;s=M.fromUrl(s).url;const{visit:r=this.visit}=e,i=q({},this.options.requestHeaders,e.headers),o=(t=e.timeout)!=null?t:this.options.timeout,a=new AbortController,{signal:c}=a;e=q({},e,{headers:i,signal:c});let u,d=!1,f=null;o&&o>0&&(f=setTimeout(()=>{d=!0,a.abort("timeout")},o));try{u=await this.hooks.call("fetch:request",r,{url:s,options:e},($,{url:x,options:I})=>fetch(x,I)),f&&clearTimeout(f)}catch($){throw d?(this.hooks.call("fetch:timeout",r,{url:s}),new Se(`Request timed out: ${s}`,{url:s,timedOut:d})):($==null?void 0:$.name)==="AbortError"||c.aborted?new Se(`Request aborted: ${s}`,{url:s,aborted:!0}):$}const{status:g,url:v}=u,b=await u.text();if(g===500)throw this.hooks.call("fetch:error",r,{status:g,response:u,url:v}),new Se(`Server error: ${v}`,{status:g,url:v});if(!b)throw new Se(`Empty response: ${v}`,{status:g,url:v});const{url:S}=M.fromUrl(v),L={url:S,html:b};return!r.cache.write||e.method&&e.method!=="GET"||s!==S||this.cache.set(L.url,L),L}class as{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((t,r)=>{e.set(r,q({},t))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const t=this.pages.get(this.resolve(e));return t&&q({},t)}set(e,t){t=q({},t,{url:e=this.resolve(e)}),this.pages.set(e,t),this.swup.hooks.callSync("cache:set",void 0,{page:t})}update(e,t){e=this.resolve(e);const r=q({},this.get(e),t,{url:e});this.pages.set(e,r)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((t,r)=>{e(r,t)&&this.delete(r)})}resolve(e){const{url:t}=M.fromUrl(e);return this.swup.resolveUrl(t)}}const De=(s,e=document)=>e.querySelector(s),Ge=(s,e=document)=>Array.from(e.querySelectorAll(s)),wt=()=>new Promise(s=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{s()})})});function yt(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function ls(s,e=[]){return new Promise((t,r)=>{const i=s(...e);yt(i)?i.then(t,r):t(i)})}function Je(s,e){const t=s==null?void 0:s.closest(`[${e}]`);return t!=null&&t.hasAttribute(e)?(t==null?void 0:t.getAttribute(e))||!0:void 0}class cs{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?Ge(this.selector):[]}add(...e){this.targets.forEach(t=>t.classList.add(...e))}remove(...e){this.targets.forEach(t=>t.classList.remove(...e))}clear(){this.targets.forEach(e=>{const t=e.className.split(" ").filter(r=>this.isSwupClass(r));e.classList.remove(...t)})}isSwupClass(e){return this.swupClasses.some(t=>e.startsWith(t))}}class bt{constructor(e,t){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:r,from:i,hash:o,el:a,event:c}=t;this.id=Math.random(),this.state=1,this.from={url:i??e.location.url,hash:e.location.hash},this.to={url:r,hash:o},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:a,event:c},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function us(s){return new bt(this,s)}class ds{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const t=this.registry.get(e);if(t)return t;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,t,r={}){const i=this.get(e);if(!i)return console.warn(`Hook '${e}' not found.`),()=>{};const o=q({},r,{id:i.size+1,hook:e,handler:t});return i.set(t,o),()=>this.off(e,t)}before(e,t,r={}){return this.on(e,t,q({},r,{before:!0}))}replace(e,t,r={}){return this.on(e,t,q({},r,{replace:!0}))}once(e,t,r={}){return this.on(e,t,q({},r,{once:!0}))}off(e,t){const r=this.get(e);r&&t?r.delete(t)||console.warn(`Handler for hook '${e}' not found.`):r&&r.clear()}async call(e,t,r,i){const[o,a,c]=this.parseCallArgs(e,t,r,i),{before:u,handler:d,after:f}=this.getHandlers(e,c);await this.run(u,o,a);const[g]=await this.run(d,o,a,!0);return await this.run(f,o,a),this.dispatchDomEvent(e,o,a),g}callSync(e,t,r,i){const[o,a,c]=this.parseCallArgs(e,t,r,i),{before:u,handler:d,after:f}=this.getHandlers(e,c);this.runSync(u,o,a);const[g]=this.runSync(d,o,a,!0);return this.runSync(f,o,a),this.dispatchDomEvent(e,o,a),g}parseCallArgs(e,t,r,i){return t instanceof bt||typeof t!="object"&&typeof r!="function"?[t,r,i]:[void 0,t,r]}async run(e,t=this.swup.visit,r,i=!1){const o=[];for(const{hook:a,handler:c,defaultHandler:u,once:d}of e)if(t==null||!t.done){d&&this.off(a,c);try{const f=await ls(c,[t,r,u]);o.push(f)}catch(f){if(i)throw f;console.error(`Error in hook '${a}':`,f)}}return o}runSync(e,t=this.swup.visit,r,i=!1){const o=[];for(const{hook:a,handler:c,defaultHandler:u,once:d}of e)if(t==null||!t.done){d&&this.off(a,c);try{const f=c(t,r,u);o.push(f),yt(f)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${a}'.`)}catch(f){if(i)throw f;console.error(`Error in hook '${a}':`,f)}}return o}getHandlers(e,t){const r=this.get(e);if(!r)return{found:!1,before:[],handler:[],after:[],replaced:!1};const i=Array.from(r.values()),o=this.sortRegistrations,a=i.filter(({before:g,replace:v})=>g&&!v).sort(o),c=i.filter(({replace:g})=>g).filter(g=>!0).sort(o),u=i.filter(({before:g,replace:v})=>!g&&!v).sort(o),d=c.length>0;let f=[];if(t&&(f=[{id:0,hook:e,handler:t}],d)){const g=c.length-1,{handler:v,once:b}=c[g],S=L=>{const $=c[L-1];return $?(x,I)=>$.handler(x,I,S(L-1)):t};f=[{id:0,hook:e,once:b,handler:v,defaultHandler:S(g)}]}return{found:!0,before:a,handler:f,after:u,replaced:d}}sortRegistrations(e,t){var r,i;return((r=e.priority)!=null?r:0)-((i=t.priority)!=null?i:0)||e.id-t.id||0}dispatchDomEvent(e,t,r){if(t!=null&&t.done)return;const i={hook:e,args:r,visit:t||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:i,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:i,bubbles:!0}))}parseName(e){const[t,...r]=e.split(".");return[t,r.reduce((i,o)=>q({},i,{[o]:!0}),{})]}}const hs=s=>{if(s&&s.charAt(0)==="#"&&(s=s.substring(1)),!s)return null;const e=decodeURIComponent(s);let t=document.getElementById(s)||document.getElementById(e)||De(`a[name='${CSS.escape(s)}']`)||De(`a[name='${CSS.escape(e)}']`);return t||s!=="top"||(t=document.body),t},xe="transition",Ue="animation";async function ms({selector:s,elements:e}){if(s===!1&&!e)return;let t=[];if(e)t=Array.from(e);else if(s&&(t=Ge(s,document.body),!t.length))return void console.warn(`[swup] No elements found matching animationSelector \`${s}\``);const r=t.map(i=>(function(o){const{type:a,timeout:c,propCount:u}=(function(d){const f=window.getComputedStyle(d),g=Le(f,`${xe}Delay`),v=Le(f,`${xe}Duration`),b=Xe(g,v),S=Le(f,`${Ue}Delay`),L=Le(f,`${Ue}Duration`),$=Xe(S,L),x=Math.max(b,$),I=x>0?b>$?xe:Ue:null;return{type:I,timeout:x,propCount:I?I===xe?v.length:L.length:0}})(o);return!(!a||!c)&&new Promise(d=>{const f=`${a}end`,g=performance.now();let v=0;const b=()=>{o.removeEventListener(f,S),d()},S=L=>{L.target===o&&((performance.now()-g)/1e3<L.elapsedTime||++v>=u&&b())};setTimeout(()=>{v<u&&b()},c+1),o.addEventListener(f,S)})})(i));r.filter(Boolean).length>0?await Promise.all(r):s&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${s}\``)}function Le(s,e){return(s[e]||"").split(", ")}function Xe(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,r)=>Qe(t)+Qe(s[r])))}function Qe(s){return 1e3*parseFloat(s)}function fs(s,e={},t={}){if(typeof s!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(s,{el:t.el,event:t.event}))return void window.location.assign(s);const{url:r,hash:i}=M.fromUrl(s),o=this.createVisit(q({},t,{to:r,hash:i}));this.performNavigation(o,e)}async function ps(s,e={}){if(this.navigating){if(this.visit.state>=6)return s.state=2,void(this.onVisitEnd=()=>this.performNavigation(s,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=s;const{el:t}=s.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(s.animation.animate=!1),s.animation.animate||this.classes.clear();const r=e.history||Je(t,"data-swup-history");typeof r=="string"&&["push","replace"].includes(r)&&(s.history.action=r);const i=e.animation||Je(t,"data-swup-animation");var o,a;typeof i=="string"&&(s.animation.name=i),s.meta=e.meta||{},typeof e.cache=="object"?(s.cache.read=(o=e.cache.read)!=null?o:s.cache.read,s.cache.write=(a=e.cache.write)!=null?a:s.cache.write):e.cache!==void 0&&(s.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",s,void 0),s.state=3;const c=this.hooks.call("page:load",s,{options:e},async(d,f)=>{let g;return d.cache.read&&(g=this.cache.get(d.to.url)),f.page=g||await this.fetchPage(d.to.url,f.options),f.cache=!!g,f.page});c.then(({html:d})=>{s.advance(5),s.to.html=d,s.to.document=new DOMParser().parseFromString(d,"text/html")});const u=s.to.url+s.to.hash;if(s.history.popstate||(s.history.action==="replace"||s.to.url===this.location.url?ne(u):(this.currentHistoryIndex++,is(u,{index:this.currentHistoryIndex}))),this.location=M.fromUrl(u),s.history.popstate&&this.classes.add("is-popstate"),s.animation.name&&this.classes.add(`to-${vt(s.animation.name)}`),s.animation.wait&&await c,s.done||(await this.hooks.call("visit:transition",s,void 0,async()=>{if(!s.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(s,await c);s.advance(4),await this.animatePageOut(s),s.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(s,await c)).finished:await this.renderPage(s,await c),await this.animatePageIn(s)}),s.done))return;await this.hooks.call("visit:end",s,void 0,()=>this.classes.clear()),s.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(c){if(!c||c!=null&&c.aborted)return void(s.state=8);s.state=9,console.error(c),this.options.skipPopStateHandling=()=>(window.location.assign(s.to.url+s.to.hash),!0),window.history.back()}finally{delete s.to.document}}const gs=async function(s){await this.hooks.call("animation:out:start",s,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",s,{skip:!1},(e,{skip:t})=>{if(!t)return this.awaitAnimations({selector:e.animation.selector})}),await this.hooks.call("animation:out:end",s,void 0)},vs=function(s){var e;const t=s.to.document;if(!t)return!1;const r=((e=t.querySelector("title"))==null?void 0:e.innerText)||"";document.title=r;const i=Ge('[data-swup-persist]:not([data-swup-persist=""])'),o=s.containers.map(a=>{const c=document.querySelector(a),u=t.querySelector(a);return c&&u?(c.replaceWith(u.cloneNode(!0)),!0):(c||console.warn(`[swup] Container missing in current document: ${a}`),u||console.warn(`[swup] Container missing in incoming document: ${a}`),!1)}).filter(Boolean);return i.forEach(a=>{const c=a.getAttribute("data-swup-persist"),u=De(`[data-swup-persist="${c}"]`);u&&u!==a&&u.replaceWith(a)}),o.length===s.containers.length},ws=function(s){const e={behavior:"auto"},{target:t,reset:r}=s.scroll,i=t??s.to.hash;let o=!1;return i&&(o=this.hooks.callSync("scroll:anchor",s,{hash:i,options:e},(a,{hash:c,options:u})=>{const d=this.getAnchorElement(c);return d&&d.scrollIntoView(u),!!d})),r&&!o&&(o=this.hooks.callSync("scroll:top",s,{options:e},(a,{options:c})=>(window.scrollTo(q({top:0,left:0},c)),!0))),o},ys=async function(s){if(s.done)return;const e=this.hooks.call("animation:in:await",s,{skip:!1},(t,{skip:r})=>{if(!r)return this.awaitAnimations({selector:t.animation.selector})});await wt(),await this.hooks.call("animation:in:start",s,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",s,void 0)},bs=async function(s,e){if(s.done)return;s.advance(6);const{url:t}=e;this.isSameResolvedUrl(ae(),t)||(ne(t),this.location=M.fromUrl(t),s.to.url=this.location.url,s.to.hash=this.location.hash),await this.hooks.call("content:replace",s,{page:e},(r,{})=>{if(this.classes.remove("is-leaving"),r.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(r))throw new Error("[swup] Container mismatch, aborting");r.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),r.animation.name&&this.classes.add(`to-${vt(r.animation.name)}`))}),await this.hooks.call("content:scroll",s,void 0,()=>this.scrollToContent(s)),await this.hooks.call("page:view",s,{url:this.location.url,title:document.title})},$s=function(s){var e;if(e=s,!!(e!=null&&e.isSwupPlugin)){if(s.swup=this,!s._checkRequirements||s._checkRequirements())return s._beforeMount&&s._beforeMount(),s.mount(),this.plugins.push(s),this.plugins}else console.error("Not a swup plugin instance",s)};function Es(s){const e=this.findPlugin(s);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(t=>t!==e),this.plugins;console.error("No such plugin",e)}function Ss(s){return this.plugins.find(e=>e===s||e.name===s||e.name===`Swup${String(s)}`)}function xs(s){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),s;const e=this.options.resolveUrl(s);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),s):e:(console.warn("[swup] options.resolveUrl needs to return a url"),s)}function Ls(s,e){return this.resolveUrl(s)===this.resolveUrl(e)}const As={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(s,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:s=>s,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:s=>{var e;return((e=s.state)==null?void 0:e.source)!=="swup"},timeout:0};class Ts{get currentPageUrl(){return this.location.url}constructor(e={}){var t,r;this.version="4.8.2",this.options=void 0,this.defaults=As,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=M.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=$s,this.unuse=Es,this.findPlugin=Ss,this.log=()=>{},this.navigate=fs,this.performNavigation=ps,this.createVisit=us,this.delegateEvent=ns,this.fetchPage=os,this.awaitAnimations=ms,this.renderPage=bs,this.replaceContent=vs,this.animatePageIn=ys,this.animatePageOut=gs,this.scrollToContent=ws,this.getAnchorElement=hs,this.getCurrentUrl=ae,this.resolveUrl=xs,this.isSameResolvedUrl=Ls,this.options=q({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new as(this),this.classes=new cs(this),this.hooks=new ds(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(t=(r=window.history.state)==null?void 0:r.index)!=null?t:1,this.enable()}async enable(){var e;const{linkSelector:t}=this.options;this.clickDelegate=this.delegateEvent(t,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(r=>this.use(r));for(const[r,i]of Object.entries(this.options.hooks)){const[o,a]=this.hooks.parseName(r);this.hooks.on(o,i,a)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&ne(null,{index:this.currentHistoryIndex}),await wt(),await this.hooks.call("enable",void 0,void 0,()=>{const r=document.documentElement;r.classList.add("swup-enabled"),r.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),await this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(e,{el:t,event:r}={}){const{origin:i,url:o,hash:a}=M.fromUrl(e);return i!==window.location.origin||!(!t||!this.triggerWillOpenNewWindow(t))||!!this.options.ignoreVisit(o+a,{el:t,event:r})}handleLinkClick(e){const t=e.delegateTarget,{href:r,url:i,hash:o}=M.fromElement(t);if(this.shouldIgnoreVisit(r,{el:t,event:e}))return;if(this.navigating&&i===this.visit.to.url)return void e.preventDefault();const a=this.createVisit({to:i,hash:o,el:t,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",a,{href:r}):e.button===0&&this.hooks.callSync("link:click",a,{el:t,event:e},()=>{var c;const u=(c=a.from.url)!=null?c:"";e.preventDefault(),i&&i!==u?this.isSameResolvedUrl(i,u)||this.performNavigation(a):o?this.hooks.callSync("link:anchor",a,{hash:o},()=>{ne(i+o),this.scrollToContent(a)}):this.hooks.callSync("link:self",a,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(a):(ne(i),this.scrollToContent(a))})})}handlePopState(e){var t,r,i,o;const a=(t=(r=e.state)==null?void 0:r.url)!=null?t:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(ae(),this.location.url))return;const{url:c,hash:u}=M.fromUrl(a),d=this.createVisit({to:c,hash:u,event:e});d.history.popstate=!0;const f=(i=(o=e.state)==null?void 0:o.index)!=null?i:0;f&&f!==this.currentHistoryIndex&&(d.history.direction=f-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=f),d.animation.animate=!1,d.scroll.reset=!1,d.scroll.target=!1,this.options.animateHistoryBrowsing&&(d.animation.animate=!0,d.scroll.reset=!0),this.hooks.callSync("history:popstate",d,{event:e},()=>{this.performNavigation(d)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function oe(){return oe=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},oe.apply(this,arguments)}const et=s=>String(s).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");let ks=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,t])=>{if(!(function(r,i,o){const a=(function(c,u){var d;if(c==="swup")return(d=u.version)!=null?d:"";{var f;const g=u.findPlugin(c);return(f=g==null?void 0:g.version)!=null?f:""}})(r,o);return!!a&&((c,u)=>u.every(d=>{const[,f,g]=d.match(/^([\D]+)?(.*)$/)||[];var v,b;return((S,L)=>{const $={"":x=>x===0,">":x=>x>0,">=":x=>x>=0,"<":x=>x<0,"<=":x=>x<=0};return($[L]||$[""])(S)})((b=g,v=et(v=c),b=et(b),v.localeCompare(b,void 0,{numeric:!0})),f||">=")}))(a,i)})(e,t=Array.isArray(t)?t:[t],this.swup)){const r=`${e} ${t.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${r}`)}}),!0}on(e,t,r={}){var i;t=!(i=t).name.startsWith("bound ")||i.hasOwnProperty("prototype")?t.bind(this):t;const o=this.swup.hooks.on(e,t,r);return this.handlersToUnregister.push(o),o}once(e,t,r={}){return this.on(e,t,oe({},r,{once:!0}))}before(e,t,r={}){return this.on(e,t,oe({},r,{before:!0}))}replace(e,t,r={}){return this.on(e,t,oe({},r,{replace:!0}))}off(e,t){return this.swup.hooks.off(e,t)}};(function(){if(!(typeof window>"u"||typeof document>"u"||typeof HTMLElement>"u")){var s=!1;try{var e=document.createElement("div");e.addEventListener("focus",function(o){o.preventDefault(),o.stopPropagation()},!0),e.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&typeof navigator.userAgent<"u"&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return s=!1;s=!0}}))}catch{}if(HTMLElement.prototype.nativeFocus===void 0&&!s){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var t=function(o){for(var a=o.parentNode,c=[],u=document.scrollingElement||document.documentElement;a&&a!==u;)(a.offsetHeight<a.scrollHeight||a.offsetWidth<a.scrollWidth)&&c.push([a,a.scrollTop,a.scrollLeft]),a=a.parentNode;return a=u,c.push([a,a.scrollTop,a.scrollLeft]),c},r=function(o){for(var a=0;a<o.length;a++)o[a][0].scrollTop=o[a][1],o[a][0].scrollLeft=o[a][2];o=[]},i=function(o){if(o&&o.preventScroll){var a=t(this);if(typeof setTimeout=="function"){var c=this;setTimeout(function(){c.nativeFocus(),r(a)},0)}else this.nativeFocus(),r(a)}else this.nativeFocus()};HTMLElement.prototype.focus=i}}})();function Fe(){return Fe=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},Fe.apply(this,arguments)}function tt(s,e){return Object.keys(e).reduce((t,r)=>t.replace(`{${r}}`,e[r]||""),s||"")}class Is{constructor(){var e;this.id="swup-announcer",this.style="position:absolute;top:0;left:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;word-wrap:normal;width:1px;height:1px;",this.region=void 0,this.region=(e=this.getRegion())!=null?e:this.createRegion()}getRegion(){return document.getElementById(this.id)}createRegion(){const e=(function(t){const r=document.createElement("template");return r.innerHTML=t,r.content.children[0]})(`<p aria-live="assertive" aria-atomic="true" id="${this.id}" style="${this.style}"></p>`);return document.body.appendChild(e),e}announce(e,t=0){return new Promise(r=>{setTimeout(()=>{this.region.textContent===e&&(e=`${e}.`),this.region.textContent="",this.region.textContent=e,r()},t)})}}function st(s){let e;if(e=typeof s=="string"?document.querySelector(s):s,!(e instanceof HTMLElement))return;const t=e.getAttribute("tabindex");e.setAttribute("tabindex","-1"),e.focus({preventScroll:!0}),t!==null&&e.setAttribute("tabindex",t)}class qs extends ks{constructor(e={}){super(),this.name="SwupA11yPlugin",this.requires={swup:">=4"},this.defaults={headingSelector:"h1",respectReducedMotion:!0,autofocus:!1,announcements:{visit:"Navigated to: {title}",url:"New page at {url}"}},this.options=void 0,this.announcer=void 0,this.announcementDelay=100,this.rootSelector="body",this.handleAnchorScroll=(t,{hash:r})=>{const i=this.swup.getAnchorElement(r);i instanceof HTMLElement&&st(i)},this.options=Fe({},this.defaults,e),this.announcer=new Is}mount(){this.swup.hooks.create("content:announce"),this.swup.hooks.create("content:focus"),this.before("visit:start",this.prepareVisit),this.on("visit:start",this.markAsBusy),this.on("visit:end",this.unmarkAsBusy),this.on("visit:end",this.focusContent),this.on("visit:end",this.announceContent),this.on("scroll:anchor",this.handleAnchorScroll),this.before("visit:start",this.disableAnimations),this.before("link:self",this.disableAnimations),this.before("link:anchor",this.disableAnimations),this.swup.announce=this.announce.bind(this)}unmount(){this.swup.announce=void 0}async announce(e){await this.announcer.announce(e)}markAsBusy(){document.documentElement.setAttribute("aria-busy","true")}unmarkAsBusy(){document.documentElement.removeAttribute("aria-busy")}prepareVisit(e){e.a11y={announce:void 0,focus:this.rootSelector}}announceContent(e){this.swup.hooks.callSync("content:announce",e,void 0,t=>{t.a11y.announce===void 0&&(t.a11y.announce=this.getPageAnnouncement()),t.a11y.announce&&this.announcer.announce(t.a11y.announce,this.announcementDelay)})}focusContent(e){this.swup.hooks.callSync("content:focus",e,void 0,t=>{t.a11y.focus&&(this.options.autofocus&&(function(){const r=(function(){const i=document.querySelector("body [autofocus]");if(i&&!i.closest('[inert], [aria-disabled], [aria-hidden="true"]'))return i})();return!!r&&(r!==document.activeElement&&r.focus(),!0)})()===!0||st(t.a11y.focus))})}getPageAnnouncement(){const{headingSelector:e,announcements:t}=this.options;return(function({headingSelector:r="h1",announcements:i={}}){var o,a;const c=document.documentElement.lang||"*",{href:u,url:d,pathname:f}=M.fromUrl(window.location.href),g=(o=(a=i[c])!=null?a:i["*"])!=null?o:i;if(typeof g!="object")return;const v=document.querySelector(r);v||console.warn(`SwupA11yPlugin: No main heading (${r}) found on new page`);const b=(v==null?void 0:v.getAttribute("aria-label"))||(v==null?void 0:v.textContent)||document.title||tt(g.url,{href:u,url:d,path:f});return tt(g.visit,{title:b,href:u,url:d,path:f})})({headingSelector:e,announcements:t})}disableAnimations(e){this.options.respectReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(e.animation.animate=!1,e.scroll.animate=!1)}}var j,Ee,D,ie,$t;class Cs{constructor(e=".changeMode"){y(this,D);y(this,j);y(this,Ee);E(this,j,document.querySelector(e)),E(this,Ee,{light:{text:"mode sombre",icon:"fa-solid fa-moon"},dark:{text:"mode clair",icon:"fa-solid fa-sun"}})}init(){const e=localStorage.getItem("theme");e?k(this,D,ie).call(this,e):window.matchMedia("(prefers-color-scheme: dark)").matches&&k(this,D,ie).call(this,"dark"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{k(this,D,ie).call(this,t.matches?"dark":"light")}),p(this,j)&&p(this,j).addEventListener(P.isMobile()?"pointerdown":"click",()=>{k(this,D,$t).call(this)})}}j=new WeakMap,Ee=new WeakMap,D=new WeakSet,ie=function(e){const t=p(this,Ee)[e];document.documentElement.dataset.themePreference=e,localStorage.setItem("theme",e),p(this,j)&&(p(this,j).setAttribute("aria-label",`Activer le ${t.text}`),p(this,j).querySelector(".fa-solid").className=t.icon,p(this,j).querySelector(".text").textContent=`Activer le ${t.text}`)},$t=function(){const e=document.documentElement.dataset.themePreference,t=[void 0,"light"].includes(e)?"dark":"light";k(this,D,ie).call(this,t)};window.addEventListener("DOMContentLoaded",()=>{let s=null,e=null,t=null,r=document.querySelector("main"),i=3100,o=sessionStorage.getItem("introPlayed");const a=()=>{if(new Cs().init(),document.getElementById("lateralBar")&&(e=new Kt,e.display(),window.addEventListener("resize",v=>{P.debounce(e.display(),50)()}),Rt.run()),t=new ts(document),t.init(),document.querySelectorAll('button[aria-controls="project"]').length){const v=document.querySelector('section.work:has(button[aria-controls="project"])');v.addEventListener("mouseover",b=>{const S=v.querySelector("button.current");if(b.target.closest("button, a[href]")){let L=b.target.closest("button, a[href]");S!==null&&!L.classList.contains("current")&&(S.classList.add("reset"),L.addEventListener("mouseout",$=>S.classList.remove("reset"),{once:!0}))}},!0)}s=new Vt,s.execute(),_t(),(()=>{if(["/index.html","/"].some(v=>v===window.location.pathname)&&!o){r.classList.add("hidden");let v=document.getElementById("tplAnimLogo");r.insertAdjacentHTML("beforebegin",v.innerHTML);let b=document.getElementById("anim-logo");b.classList.add("animate-progress"),setTimeout(()=>{b.remove(),sessionStorage.setItem("introPlayed",!0),r.classList.remove("hidden"),document.querySelector("html").classList.add("animate-home")},i)}else r.classList.remove("hidden")})()},c=()=>{var d,f;if(s=null,e=null,console.log("unmount =>",t.layers),(d=Array.from(t.layers))!=null&&d.find(g=>g.classList.contains("move"))){let g=(f=Array.from(t.layers))==null?void 0:f.find(v=>v.classList.contains("move"));g.classList.remove("move"),g.addEventListener("transitionend",v=>t=null)}else t=null};a();const u=new Ts({containers:["#viewsTransition"],plugins:[new qs],animateHistoryBrowsing:!0});u.hooks.on("visit:start",()=>{document.querySelector("html").classList.remove("animate-home"),c()}),u.hooks.on("link:click",()=>{document.querySelector("html").classList.remove("animate-home")}),u.hooks.on("page:load",()=>{}),u.hooks.on("animation:out:start",()=>{document.querySelector("html").classList.remove("animate-home")}),u.hooks.on("animation:in:await",(d,f)=>{}),u.hooks.on("animation:in:start",(d,f)=>{document.querySelectorAll("[class*=delay]").forEach(v=>{v.offsetWidth})}),u.hooks.on("content:replace",(d,f)=>{document.querySelector("main").classList.remove("hidden")}),u.hooks.on("page:view",()=>{}),u.hooks.on("visit:end",()=>{a()})});
