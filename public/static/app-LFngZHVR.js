var Me=r=>{throw TypeError(r)};var Le=(r,e,t)=>e.has(r)||Me("Cannot "+t);var v=(r,e,t)=>(Le(r,e,"read from private field"),t?t.call(r):e.get(r)),E=(r,e,t)=>e.has(r)?Me("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),x=(r,e,t,i)=>(Le(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t),H=(r,e,t)=>(Le(r,e,"access private method"),t);/* empty css               */class P{static debounce(e,t,i,s){var o,a=null;return function(){var c=s||this,m=arguments,f=function(){a=null,i||(o=e.apply(c,m))},h=i&&!a;return clearTimeout(a),a=setTimeout(f,t),h&&(o=e.apply(c,m)),o}}static throttle(e,t,i,s,o){var a,c,m,f=null,h=0,p=function(){h=new Date,f=null,m=e.apply(a,c)};return function(){var w=new Date;!h&&!i&&(h=w);var $=t-(w-h);return a=o||this,c=arguments,$<=0?(clearTimeout(f),f=null,h=w,m=e.apply(a,c)):!f&&s&&(f=setTimeout(p,$)),m}}static slugify(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}static isMobile(){const e=navigator.userAgent||navigator.vendor||window.opera,t=/android|iphone|ipad|ipod|opera mini|iemobile|blackberry|webos/i.test(e.toLowerCase()),i=window.matchMedia("(pointer: coarse)").matches;return t||i}}class rt{constructor(e){this.$article=e}getPercent(e){this._offsetTop=this.$article.offsetTop,this._heightTotalArticle=this.$article.getBoundingClientRect().height;let t=null,i=0;return e>this._offsetTop&&(t=(e+this._offsetTop)*100/this._heightTotalArticle),i=window.innerHeight*(parseInt(t,10)/100),t=(e+i-this._offsetTop)*100/this._heightTotalArticle,(0>t||isNaN(t))&&(t=0),100<t&&(t=100),t}}class it{constructor(){this.$progressTrue=document.getElementById("progressTrue"),this.$progressTrue.insertAdjacentHTML("afterend",document.getElementById("tplProgressFalse").innerHTML),this.$progressFalse=document.getElementById("progressFalse"),this.$cursorProgress=document.getElementById("cursorProgress")}execute(e){this.$progressTrue.value=e,this.$cursorProgress.style.width=`${e}%`}}var se,ne;class st{constructor(){E(this,se);E(this,ne);this.$article=document.querySelector("article"),x(this,se,new rt(this.$article)),x(this,ne,new it)}setProgression(e){let t=Math.floor(v(this,se).getPercent(e));this.render(t)}render(e){v(this,ne).execute(e)}}se=new WeakMap,ne=new WeakMap;class nt{static run(){if(document.querySelectorAll("article").length>0){let e=new st,t=["resize","load"];window.addEventListener("scroll",i=>{P.debounce(()=>{e.setProgression(window.scrollY)},200)()},{passive:!0});for(let i of t)window.addEventListener(i,()=>{P.debounce(()=>{e.setProgression(window.scrollY)},200)()})}}}const ot=()=>{let r=document.querySelector(".changeMode"),e=localStorage.getItem("theme"),t=i=>{let s={light:{text:"mode sombre",icon:"fa-solid fa-moon"},dark:{text:"mode clair",icon:"fa-solid fa-sun"}},o=[void 0,"light"].some(m=>m===document.documentElement.dataset.themePreference),a=o?"dark":"light",c=`Activer le ${s[a].text}`;i.setAttribute("aria-label",c),i.querySelector(".fa-solid").className=s[a].icon,i.querySelector(".text").textContent=c,document.documentElement.dataset.themePreference=a,localStorage.setItem("theme",a)};e?document.documentElement.dataset.themePreference=e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&t(r),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{t(r)}),r!==null&&r.addEventListener(P.isMobile()?"pointerdown":"click",i=>{t(r)})};function at(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ee={exports:{}},lt=ee.exports,He;function ct(){return He||(He=1,function(r,e){(function(t,i){r.exports=i()})(lt,function(){"use strict";var t=Object.defineProperty,i=(u,n,l)=>n in u?t(u,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):u[n]=l,s=(u,n,l)=>i(u,typeof n!="symbol"?n+"":n,l);class o{constructor(n,l=null){s(this,"attrs"),this.attrs=this.isObject(l)?{...l,...n}:n}isObject(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}add(n,l){this.attrs[n]=l}get(){return{...this.attrs}}}const a=Object.freeze(Object.defineProperty({__proto__:null,IsAlpha:u=>new RegExp("^[a-zA-Z]+$").test(u.trim()),IsAlphaNumeric:u=>new RegExp("^[a-z0-9]+$","i").test(u.trim()),IsBetween:(u,n)=>{let[l,d]=n.split(";");if(!l||!d)throw new Error("Invalid range format. Expected 'minmax'.");const g=typeof u=="string"?parseInt(u,10):u;return g>parseInt(l,10)&&g<parseInt(d,10)},IsBetweenLength:(u,n)=>{if(typeof n!="string")throw new Error("Invalid range format. Expected 'minmax' (isbetweenlength).");if(!n.includes(";"))throw new Error("arguments must be separated by a semicolon example: 2;3 (isbetweenlength).");let[l,d]=n.split(";");return u.length>parseInt(l,10)&&u.length<parseInt(d,10)},IsBoolean:u=>[!0,!1,0,1,"0","1","true","false"].some(n=>n===u),IsCreditCard:u=>{if(u=u.trim(),/[^0-9\- ]+/.test(u)||(u=u.replace(/\D/g,""),u.length<13||u.length>19))return!1;let n=0,l=!1;for(let d=u.length-1;d>=0;d--){let g=parseInt(u[d],10);l&&(g*=2,g>9&&(g-=9)),n+=g,l=!l}return n%10!==0?!1:/^5[1-5]|^2[2-7]/.test(u)?u.length===16:/^4/.test(u)?u.length===13||u.length===16:/^3[47]/.test(u)?u.length===15:/^3(0[0-5]|[68])/.test(u)?u.length===14:/^6011/.test(u)?u.length===16:!1},IsDate:u=>{if(["",null,void 0].some(C=>C===u))return!1;let n=u.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!n)return!1;let[l,d,g,A]=n.map(Number);return g>0&&g<13&&d>0&&d<32768&&A>0&&A<=new Date(d,g,0).getDate()},IsEmail:u=>/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(u.trim()),IsEqualTo:(u,n)=>{var l;return!/^\d+/.test(n)&&n.length>0&&document.querySelectorAll(n)!==null?u===((l=document.querySelector(n))==null?void 0:l.value.trim()):/^\d+$/.test(n)?parseInt(n,10)===parseInt(u,10):n===u},IsIncludes:(u,n)=>n.toString().includes(u.toString()),IsMaxLength:(u,n)=>{if(!/^\d+$/.test(n.toString()))throw new Error('The params of method "is max length" must be a number');return u.length<parseInt(n.toString(),10)},IsMinLength:(u,n)=>{if(!/^\d+$/.test(n.toString()))throw new Error('The params of method "is min length" must be a number');return u.length>parseInt(n.toString(),10)},IsMobilePhone:(u,n)=>{let l={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[1356789][0-9]{8}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(\+?31|0)6?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};return l["en-CA"]=l["en-US"],l["fr-BE"]=l["nl-BE"],l["zh-HK"]=l["en-HK"],!Object.keys(l).includes(n)||typeof u!="string"?!1:l[n].test(u)},IsNotEmpty:u=>[null,void 0].some(n=>n===u)?!1:(u=typeof u=="string"?u.trim():u,u.length!==0),IsNumeric:u=>new RegExp("^[0-9]+$").test(u),IsPostalCode:(u,n)=>{let l=/^\d{3}$/,d=/^\d{4}$/,g=/^\d{5}$/,A=/^\d{6}$/,C={AD:/^AD\d{3}$/,AT:d,AU:d,BE:d,BG:d,BR:/^\d{5}-\d{3}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:d,CZ:/^\d{3}\s?\d{2}$/,DE:g,DK:d,DZ:g,EE:g,ES:g,FI:g,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:d,ID:g,IL:g,IN:A,IS:l,IT:g,JP:/^\d{3}\-\d{4}$/,KE:g,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:d,LV:/^LV\-\d{4}$/,MX:g,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,NL:/^\d{4}\s?[a-z]{2}$/i,NO:d,NZ:d,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:A,RU:A,SA:g,SE:/^[1-9]\d{2}\s?\d{2}$/,SI:d,SK:/^\d{3}\s?\d{2}$/,TN:d,TW:/^\d{3}(\d{2})?$/,UA:g,US:/^\d{5}(-\d{4})?$/,ZA:d,ZM:g};return!Object.keys(C).includes(n)||typeof u!="string"?!1:C[n.toUpperCase()].test(u)},IsUrl:u=>new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(u.trim())},Symbol.toStringTag,{value:"Module"}));class c{constructor(){s(this,"rulesList",{});for(let[n,l]of Object.entries(a))this.rulesList[n.toLowerCase()]=l}get(){return this.rulesList}set(n,l){typeof l=="function"?this.rulesList[n]=l:console.warn(`The rule ${n} isn't a function.`)}}class m{constructor(n){s(this,"message",""),this.element=n}handle(){this.element.$el.classList.contains("error")&&this.element.$el.classList.remove("error"),this.element.$el.classList.contains("success")&&this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.removeAttribute("aria-invalid"),this.element.$el.removeAttribute("aria-describedby"))}toString(){return"neutral"}}class f{constructor(n){s(this,"message",""),this.element=n}handle(){this.element.$el.classList.add("error"),this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.setAttribute("aria-invalid","true"),this.element.$el.setAttribute("aria-describedby",this.element.getId().html))}toString(){return"error"}}class h{constructor(n){s(this,"message",""),this.element=n}handle(){if(this.element.$el.classList.add("success"),this.element.$el.classList.remove("error"),this.element.$el.nodeName.toLowerCase()!=="form"){this.element.$el.setAttribute("aria-invalid","false"),this.element.$el.removeAttribute("aria-describedby");for(let[n,l]of Object.entries(this.element.getParams()))if(n!=="target"&&Object.keys(l).includes("success")){this.element.$el.setAttribute("aria-describedby",this.element.getId().html);break}}}toString(){return"success"}}class p{constructor(n){s(this,"state"),s(this,"$el"),s(this,"id"),s(this,"params"),s(this,"rules"),s(this,"middleware"),this.$el=n.element,this.id={html:n.id.html,fo:n.id.fo,fi:n.id.fi},this.params=n.params,this.rules=n.rules,this.state=new m(this),this.middleware=n.middleware}setState(n){this.state=n,this.state.handle()}errorState(){this.setState(new f(this))}successState(){this.setState(new h(this))}resetState(){this.setState(new m(this))}getState(){return this.state}getId(){return this.id}getParams(){return this.params}on(n,l,d=!1){this.$el.addEventListener(n,g=>{l(g,this)},d)}}class w{extractValue(n){let l=[];return n.querySelectorAll("option").forEach(d=>{d.selected&&l.push(d.value)}),l}}class ${extractValue(n){let l=[];return document.getElementsByName(n.name).forEach(d=>{d.checked&&l.push(d.value)}),l}}class T{extractValue(n){return n.value.trim()}}const b=new w,S=new $,y=new T;class L{static getExtractor(n){return n instanceof HTMLSelectElement&&n.hasAttribute("multiple")?this.extractors["select[multiple]"]:n instanceof HTMLInputElement&&this.extractors[`input:${n.type}`]||y}}s(L,"extractors",{"select[multiple]":b,"input:checkbox":S,"input:radio":S});class Ae extends p{constructor(n){super(n),this.id.html=`vfo${this.id.fo}__vfi${this.id.fi}`,this.switchRequireAttribute(),[void 0,null].some(l=>this.params===l)&&this.getParamsFromHTML()}update(n,l,d){return d(n)}validate(){var n,l;let d=this.rules.get(),g=L.getExtractor(this.$el),A=g.extractValue(this.$el),C=[],q=this.getRulesList();if(q){for(let R of q)for(let M in d)if(M===R){let Q=d[M](A,this.params[M].params),F={status:Q,message:this.params[M][Q?"success":"error"]};C.push(F)}}return C.every(R=>R.status===!0)?(this.successState(),this.middleware.fieldOnSuccess(this.$el),this.state.message=((n=C.find(R=>R.status))==null?void 0:n.message)||""):(this.errorState(),this.middleware.fieldOnError(this.$el),this.state.message=((l=C.find(R=>!R.status))==null?void 0:l.message)||""),this}displayState(){var n,l,d,g;let A=this.id.html,C=this.state.toString(),q=this.$el.name,R=this.state.message,M=this.$el.closest("form"),Q=`.error[data-name="field_${this.$el.name}"], .success[data-name="field_${this.$el.name}"]`,F={target:null,mode:"beforeend"};if(M===null)throw new Error(`this field (${this.$el.name}) must be in HTMLFormElement`);if(this.params.hasOwnProperty("target"))for(let et in this.params.target)(n=M==null?void 0:M.querySelectorAll(this.params.target[et]))==null||n.forEach(tt=>{tt.querySelectorAll(Q).length>0||R!==""&&(F={target:M.querySelector(this.params.target[this.state.toString()]),mode:"beforeend"})});else{if(((d=(l=this.$el.parentNode)==null?void 0:l.querySelectorAll(Q))==null?void 0:d.length)>0)return;F={target:this.$el,mode:"afterend"}}A&&((g=F.target)==null||g.insertAdjacentHTML(F.mode,this.getTemplate(C,A,q,R)))}clean(){var n;return this.resetState(),document.getElementById(this.id.html)!==null&&((n=document.getElementById(this.id.html))==null||n.remove()),this}getParamsFromHTML(){var n;let l={},d=[void 0,null],g=(n=this.$el.dataset.validateRules)==null?void 0:n.trim().replace(/\s+/g," ").split(" ");if(g===void 0)throw new Error(`this.params is empty (field name : ${this.$el.name})`);g.forEach(A=>{let C={},q={error:""};if(l[A]={},d.every(R=>this.$el.dataset.validateTargetError!==R)&&(C.error=this.$el.dataset.validateTargetError),d.every(R=>this.$el.dataset.validateTargetSuccess!==R)&&(C.success=this.$el.dataset.validateTargetSuccess),["success","error"].some(R=>C.hasOwnProperty(R))&&(l.target=C),this.$el.getAttribute(`data-validate-${A}-args`)!==null&&(q.params=this.$el.getAttribute(`data-validate-${A}-args`).trim()),this.$el.getAttribute(`data-success-${A}`)!==null&&(q.success=this.$el.getAttribute(`data-success-${A}`).trim()),this.$el.getAttribute(`data-error-${A}`)===null)throw new Error(`field ${this.$el.name} doesn't have error message for this rule : ${A}`);q.error=this.$el.getAttribute(`data-error-${A}`).trim(),l[A]=q}),this.params=l}switchRequireAttribute(){this.$el.hasAttribute("required")&&(this.$el.removeAttribute("required"),this.$el.classList.add("require"))}getRulesList(){try{if([void 0,null].some(d=>this.params===d))throw new Error(`this.params is empty (field name : ${this.$el.name})`);let n=[],l=!1;for(let d of Object.keys(this.params))d.trim().replace(/\s+/g," ")!=="target"&&(d==="isempty"?l=!0:n=[...n,d]);return l&&(n=[...n,"isempty"]),n}catch(n){console.error(n)}}getTemplate(n,l,d,g){return`<span id="${l}" data-name="field_${d}" class="${n}">${g}</span>`}}class B extends p{constructor(n){super(n),s(this,"fields",[]);for(let[l,d]of Object.entries(this.$el.querySelectorAll(this.getSelectorRequiresFields())))this.register(parseInt(l,10),d,n.middleware)}register(n,l,d){let g=Object.keys(this.params).includes(l.name)?this.params[l.name]:null,A={element:l,id:{fo:this.id.fo,fi:n},rules:this.rules,params:g,middleware:d};this.fields=[...this.fields,new Ae(A)]}unregister(n){this.fields=this.fields.filter(l=>l.$el!==n.$el)}notify(n){this.fields.forEach((d,g)=>{d.update(d,g,n)});let l=this.fields.every(d=>d.state.toString()==="success")?"success":"error";this[`${l}State`]()}getFields(){return this.fields}getSelectorRequiresFields(){return["input","textarea","select"].map(n=>`${n}.require,${n}[required]`).join(",")}}class fe{constructor(n){s(this,"forms",[]),s(this,"configuration"),this.configuration=n.get(),document.querySelectorAll(this.configuration.options.get().selector).length&&document.querySelectorAll(this.configuration.options.get().selector).forEach(l=>{this.addForm(l)})}addForm(n){let l={element:n,id:{html:`vfo${this.forms.length}_`,fo:this.forms.length,fi:null},state:null,params:this.configuration.options.get().fields,rules:this.configuration.rules,middleware:this.configuration.middleware};this.forms=[...this.forms,new B(l)]}rmForm(n){this.forms=[...this.forms.filter(l=>l.$el!==n)]}get(){return this.forms}}class pe{constructor(n={}){s(this,"app"),s(this,"formsGroup"),s(this,"middleware",{formOnError(g,A){},formOnSuccess(g,A){},fieldOnError(g){},fieldOnSuccess(g){}});let l={selector:"form",fields:{}},d=new o(n,l);this.app=new o({options:d,rules:new c,middleware:this.middleware}),this.formsGroup=new fe(this.app)}form(){this.formsGroup.get().forEach(n=>{n.on("submit",(l,d)=>{d.notify(g=>g.clean().validate().displayState()),d.getState().toString()==="error"&&(l.preventDefault(),this.middleware.formOnError(l,d.$el)),d.getState().toString()==="success"&&this.middleware.formOnSuccess(l,d.$el)})})}checkForm(n,l){this.formsGroup.get().forEach(d=>{n===d.$el&&(d.notify(g=>g.clean().validate().displayState()),d.getState().toString()==="error"&&l.preventDefault())})}element(n){this.formsGroup.get().forEach(l=>{l.notify(d=>{d.$el===n&&d.clean().validate().displayState()})})}addRequireField(n){this.formsGroup.get().forEach(l=>{l.$el===n.closest("form")&&(n.classList.add("require"),l.register(l.getFields().length,n,this.middleware))})}removeRequireField(n){this.formsGroup.get().forEach(l=>{l.notify(d=>{d.$el===n&&(d.$el.classList.remove("require"),l.unregister(d))})})}addRequireForm(n){let l=!1;this.formsGroup.get().forEach(d=>{d.$el===n&&(l=!0)}),l||this.formsGroup.addForm(n)}removeRequireForm(n){this.formsGroup.rmForm(n)}addRules(n,l){this.app.get().rules.set(n,l)}check(n,l,d={}){return this.app.get().rules.get()[l](n,d)}}return pe})}(ee,ee.exports)),ee.exports}var ut=ct();const dt=at(ut),ht=()=>{let r=[document.querySelector('input[name="phone"]'),document.querySelector('input[name="date_appointment"]'),document.querySelector('input[name="hour_appointment"]')],e=document.getElementById("formContact"),t=new dt;window.matchMedia("(max-width: 640px)").matches&&r.forEach(i=>{i.hasAttribute("disabled")&&i.closest("label").classList.add("hide")}),window.addEventListener("resize",i=>{r.forEach(s=>{s.hasAttribute("disabled")&&s.closest("label").classList.add("hide")})}),document.querySelector("input[name=appointement]").addEventListener("change",i=>{let s=window.matchMedia("(max-width: 640px)").matches?"hide":"invisible";for(let o of r)o.setAttribute("disabled",!0),o.closest("label").classList.remove("hide","invisible"),o.closest("label").classList.add(s),t.removeRequireField(o),document.querySelectorAll("#errorAppointment .error").length>0&&document.querySelectorAll("#errorAppointment .error").forEach(a=>a.remove()),i.target.checked&&(o.removeAttribute("disabled"),t.addRequireField(o),o.closest("label").classList.remove(s))}),t.addRules("checkphone",i=>/^0[1-8][ .-]?(\d{2}[ .-]?){4}$/.test(i)),t.addRules("datemin",i=>{let s=new Date,o=new Date(i);return o.setHours(0),o.setMinutes(0),s.setHours(0),s.setMinutes(0),s.getTime()<=o.getTime()}),t.addRules("businessday",i=>![0,6].includes(new Date(i).getDay())),t.addRules("betweenhour",(...i)=>{let[s,o]=i,[a,c]=o.split(";"),[m,f]=s.split(":");return parseInt(a,10)<=parseInt(m,10)&&parseInt(c,10)>parseInt(m,10)}),t.form(),t.middleware.formOnSuccess=(i,s)=>{if(s===e){i.preventDefault();let o=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),a=document.querySelector("input[name=appointement]"),c=i.target,m={},f=new FormData(c),h=["phone","date_appointment","hour_appointment"],p=(b,S)=>{let y=b.closest(".content"),L=document.createElement("div");L.classList.add("result"),L.insertAdjacentHTML("beforeend",`<p class="text-center"><span>${S}</span></p>`),y.insertAdjacentElement("afterend",L),y.classList.add("minimize"),setTimeout(()=>{L.classList.add("show")},0)};f.forEach((b,S)=>{m[S]=b}),a.checked||h.forEach(b=>delete m[b]);let w=Object.entries(m).map(([b,S])=>`${b}=${S}`).join("&"),$={method:"POST",headers:o,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",body:w},T=window.location.origin.includes("rb-webstudio")?c.action:"http://localhost/portfolio/public/services/mail/send.html";fetch(T,$).then(b=>{if(b.ok===!0)return b.json()}).then(({data:b,errors:S})=>{if(document.querySelectorAll("span.error").forEach(y=>y.remove()),document.querySelectorAll(".require").forEach(y=>y.classList.remove("error")),Object.keys(S).length>0)for(let y in S)if(Object.keys(S).includes(y)){let L=document.querySelector(`*[name="${y}"]`);L.classList.add("error"),L.insertAdjacentHTML("afterend",`<span class="error">${S[y]}</span>`)}else throw new Error("Une erreur est survenue. Veuillez réessayer plus tard.");else c.reset(),p(c,"Merci pour votre message. <br>Je vous recontacte dans les plus brefs délais. <br>Vous allez recevoir une réponse automatique")}).catch(b=>{console.error(b),p(c,"Une erreur est survenue. Veuillez réessayer plus tard.")})}}};var oe;class mt{constructor(){E(this,oe)}setStrategy(e){x(this,oe,e)}execute(e){var t;(t=v(this,oe))==null||t.execute(e)}}oe=new WeakMap;class Y{constructor(){if(new.target===Y)throw new Error("Cannot instantiate AbstractStrategy directly")}_sendLog(e){e={...e,theme:localStorage.getItem("theme")};let t=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}),i=new FormData;for(let c in e)i.append(c,e[c]);let s={method:"POST",headers:t,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",keepalive:!0,body:i},o="/services/pages/views-log.html",a=window.location.origin.includes("rb-webstudio")?o:`http://localhost/portfolio/public/${o}`;fetch(a,s).then(c=>{if(c.ok===!0)return c.json()}).catch(c=>console.warn("error >",c))}_logStart(e){this._sendLog({type:"start",path:e})}_logClick(e){this._sendLog({type:"click",path:e})}_logRead(e){this._sendLog({type:"read",path:e})}_logEnd(e){window.addEventListener("unload",t=>{this._sendLog({type:"end",path:e})})}execute(){throw new Error("Cannot instantiate AbstractStrategy directly")}}class ft extends Y{_logRead(e){let t=document.querySelector("progress"),i=!1;window.addEventListener("scroll",s=>{P.debounce(()=>{t.value>=50&&!i&&(this._sendLog({type:"read",path:e}),i=!0)},200)()})}execute(e){this._logStart(e),this._logRead(e)}}class pt extends Y{_logClick(e){document.querySelectorAll(".work a").forEach(t=>{t.addEventListener("pointerdown",i=>{let s={url:t.getAttribute("href"),text:t.querySelector(".bold").textContent};this._sendLog({type:"click",path:e,...s})})})}execute(e){this._logStart(e),this._logClick(e)}}class gt extends Y{_logClick(e){document.querySelectorAll(".posts .items-articles li a").forEach(t=>{t.addEventListener("pointerdown",i=>{let s={url:t.getAttribute("href"),text:t.textContent};this._sendLog({type:"click",path:e,...s})})})}execute(e){this._logStart(e)}}class vt extends Y{_logClick(e){document.querySelectorAll(".posts .items-articles li a").forEach(t=>{t.addEventListener("pointerdown",i=>{let s={url:t.getAttribute("href"),text:t.textContent};this._sendLog({type:"click",path:e,...s})})})}execute(e){this._logStart(e)}}var j,ae,be,Fe;class wt{constructor(){E(this,be);E(this,j);E(this,ae);x(this,j,window.location.pathname),x(this,ae,{"^\\/articles\\/[a-zA-Z0-9\\-]+-\\d+\\.html$":ft,"^\\/articles\\/index\\.html$":gt,"^\\/articles\\/chercher-articles-par-[a-zA-Z0-9\\-]+\\.html$":vt,"^\\/$|^\\/index\\.html$":pt})}execute(){let e=new mt,t=H(this,be,Fe).call(this,v(this,j));t!==null?(e.setStrategy(new t),e.execute(v(this,j))):console.warn("No strategy found for path:",v(this,j))}}j=new WeakMap,ae=new WeakMap,be=new WeakSet,Fe=function(e){let t=null;for(let[i,s]of Object.entries(v(this,ae)))new RegExp(i).test(e)&&(t=s);return t};var V;class Ve{constructor(){E(this,V);x(this,V,[])}add(e){v(this,V).push(e)}notify(e){for(let t of v(this,V))t.update(e)}}V=new WeakMap;var le;class ze{constructor(e){E(this,le);x(this,le,e)}get $el(){return v(this,le).el}update(e){throw new Error("Method 'update' must be implemented")}}le=new WeakMap;var N;class Pe extends ze{constructor(t){super(t);E(this,N);x(this,N,!1)}checkVisibility(t){throw new Error("Method 'checkVisibility' must be implemented")}update(t){x(this,N,this.checkVisibility(t)),this.$el.setAttribute("aria-hidden",v(this,N)),this.$el.classList[v(this,N)?"add":"remove"]("displayObserve")}}N=new WeakMap;class yt extends Pe{checkVisibility(e){return e>window.innerHeight}}class bt extends Pe{checkVisibility(e){return document.querySelector("article .share").getBoundingClientRect().y<0}}class $t extends Pe{checkVisibility(e){let t=document.querySelector("header"),i=t.getBoundingClientRect().height,s=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top"),10);return e>i+s}}var _,ce,ue,de;class Et{constructor(e){E(this,_);E(this,ce);E(this,ue);E(this,de);x(this,_,new Ve),x(this,ce,new yt({el:e.querySelector('a[href="#top"]')})),x(this,ue,new bt({el:e.querySelector(".share")})),x(this,de,new $t({el:e}))}init(){v(this,_).add(v(this,ce)),v(this,_).add(v(this,ue)),v(this,_).add(v(this,de));const e=P.debounce(()=>{v(this,_).notify(window.scrollY)},400);e(),window.addEventListener("scroll",e)}}_=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap;var z,W,G,ye;class St{constructor(e){E(this,G);E(this,z);E(this,W);x(this,z,e.querySelectorAll("button")),x(this,W,document.querySelectorAll(".layer"))}init(){let e=P.isMobile()?"pointerdown":"click";v(this,z).forEach(t=>{t.addEventListener(e,i=>{var s;if(t.dataset.panel==="true"){if(t.classList.contains("current")){H(this,G,ye).call(this);return}H(this,G,ye).call(this);let o=(s=t.dataset.panelTarget)==null?void 0:s.substring(1),a=Array.from(v(this,W)).find(c=>c.id===o);a&&a.classList.add("move"),t.classList.add("current")}})}),document.querySelectorAll(".layer .close").forEach(t=>{t.addEventListener(e,i=>{H(this,G,ye).call(this)})})}}z=new WeakMap,W=new WeakMap,G=new WeakSet,ye=function(){v(this,z).forEach(e=>e.classList.remove("current")),v(this,W).forEach(e=>e.classList.remove("move"))};var I,$e,he;class xt{constructor(){E(this,I);E(this,$e);E(this,he);document.getElementById("lateralBar")&&(x(this,I,document.getElementById("lateralBar")),x(this,$e,v(this,I).querySelectorAll("button")),x(this,he,document.querySelector("main")),new Et(v(this,I)).init(),new St(v(this,I)).init())}display(){if(window.matchMedia("( min-width: 961px )").matches){let e=v(this,he).getBoundingClientRect().width,t=window.innerWidth;v(this,I).classList.remove("visible"),v(this,I).style.right=`${(t-e)/2-40}px`,v(this,I).addEventListener("transitionend",i=>{setTimeout(()=>{v(this,I).classList.add("visible")},500)})}else window.matchMedia("(max-width: 960px)").matches&&v(this,I).classList.add("visible")}}I=new WeakMap,$e=new WeakMap,he=new WeakMap;var Ie,me,K,X,Ge,Ke;class We{constructor(){E(this,X);E(this,Ie,"");E(this,me,[]);E(this,K,{});x(this,K,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})}render(e,t){return H(this,X,Ke).call(this,e)(t,s=>s.replace(/[&<>"']/g,o=>v(this,K)[o]||o))}}Ie=new WeakMap,me=new WeakMap,K=new WeakMap,X=new WeakSet,Ge=function(e){let t=/\[\[=?-?([\s\S]+?)\]\]|([^\[]+)/g,i,s=[];for(;(i=t.exec(e))!==null;)if(i[1]){let o=i[1].trim();i[0].startsWith("[[=")?s.push({type:"OUTPUT_ESCAPED",value:o}):i[0].startsWith("[[-")?s.push({type:"OUTPUT_RAW",value:o}):s.push({type:"JS_CODE",value:o})}else i[2]&&s.push({type:"TEXT",value:i[2]});return s},Ke=function(e){let t=`let output = ""; 
`,i=s=>String(s).replace(/[&<>"']/g,o=>v(this,K)[o]||o);return x(this,me,H(this,X,Ge).call(this,e)),v(this,me).forEach(s=>{switch(s.type){case"TEXT":t+=`output += ${JSON.stringify(s.value)};
`;break;case"OUTPUT_ESCAPED":t+=`output += escapeHTML(${s.value});
`;break;case"OUTPUT_RAW":t+=`output += ${s.value};
`;break;case"JS_CODE":t+=`${s.value}
`;break}}),t+="return output;",new Function("data","escapeHTML",`with(data) { ${t} }`)};var U,Ee,Se,Ze;class At extends ze{constructor(t,i){super(t);E(this,Se);E(this,U);E(this,Ee);let s=`#summary nav a[href="#${this.$el.id}"]`;x(this,U,document.querySelector(s)),x(this,Ee,i),i.add(this)}update(t){let i=Math.round(window.innerHeight/3);this.$el.getBoundingClientRect().y-i<0?(v(this,U).parentNode.classList.add("active"),v(this,U).parentNode.scrollIntoView({behavior:"smooth",block:"center"})):v(this,U).parentNode.classList.remove("active"),H(this,Se,Ze).call(this)}}U=new WeakMap,Ee=new WeakMap,Se=new WeakSet,Ze=function(){let t=Array.from(document.querySelectorAll("#summary nav a")),i=t.findLastIndex(s=>s.parentNode.classList.contains("active"));i>0&&t.slice(0,i).map(s=>s.parentNode.classList.remove("active"))};var Z,xe,J,D;class Lt{constructor(){E(this,Z);E(this,xe);E(this,J);E(this,D);x(this,Z,document.querySelector("article")),v(this,Z)&&(x(this,D,new Ve),x(this,xe,document.querySelector("article")),x(this,J,document.getElementById("summary")))}init(){if(v(this,Z)&&v(this,J)){let e=v(this,J).querySelector("nav"),t=130,i=[...Array(6).keys()],s=i.map(h=>`article h${h+1}`),o=[...s,"[id^=exempl]"],a=document.querySelectorAll(o.join(", ")),c=document.getElementById("tplLayer"),m=new We,f=[];a.forEach((h,p)=>{let w,$;h.id.startsWith("exemple-")?w=h.parentNode.textContent:(h.setAttribute("id",`_${p}-${P.slugify(h.textContent)}`),w=h.textContent),$=`#${h.id}`,f.push({url:$,text:w})}),e.style.height=`${window.innerHeight-t}px`,window.addEventListener("resize",h=>{P.debounce(()=>{e.style.height=`${window.innerHeight-t}px`},200)()}),e.insertAdjacentHTML("beforeend",m.render(c.textContent,{rows:f})),a.forEach(h=>new At({el:h},v(this,D))),v(this,D).notify(window.scrollY),window.addEventListener("scroll",h=>{P.debounce(()=>{v(this,D).notify(window.scrollY)},500)()})}}}Z=new WeakMap,xe=new WeakMap,J=new WeakMap,D=new WeakMap;const Te=new WeakMap;function ke(r,e,t,i){if(!r&&!Te.has(e))return!1;const s=Te.get(e)??new WeakMap;Te.set(e,s);const o=s.get(t)??new Set;s.set(t,o);const a=o.has(i);return r?o.add(i):o.delete(i),a&&r}function Tt(r,e){let t=r.target;if(t instanceof Text&&(t=t.parentElement),t instanceof Element&&r.currentTarget instanceof Element){const i=t.closest(e);if(i&&r.currentTarget.contains(i))return i}}function kt(r,e,t,i={}){const{signal:s,base:o=document}=i;if(s!=null&&s.aborted)return;const{once:a,...c}=i,m=o instanceof Document?o.documentElement:o,f=!!(typeof i=="object"?i.capture:i),h=$=>{const T=Tt($,String(r));if(T){const b=Object.assign($,{delegateTarget:T});t.call(m,b),a&&(m.removeEventListener(e,h,c),ke(!1,m,t,p))}},p=JSON.stringify({selector:r,type:e,capture:f});ke(!0,m,t,p)||m.addEventListener(e,h,c),s==null||s.addEventListener("abort",()=>{ke(!1,m,t,p)})}function k(){return k=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},k.apply(null,arguments)}const Je=(r,e)=>String(r).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",ie=({hash:r}={})=>window.location.pathname+window.location.search+(r?window.location.hash:""),Ct=(r,e={})=>{const t=k({url:r=r||ie({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(t,"",r)},te=(r=null,e={})=>{r=r||ie({hash:!0});const t=k({},window.history.state||{},{url:r,random:Math.random(),source:"swup"},e);window.history.replaceState(t,"",r)},Rt=(r,e,t,i)=>{const s=new AbortController;return i=k({},i,{signal:s.signal}),kt(r,e,t,i),{destroy:()=>s.abort()}};class O extends URL{constructor(e,t=document.baseURI){super(e.toString(),t),Object.setPrototypeOf(this,O.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const t=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new O(t)}static fromUrl(e){return new O(e)}}class ge extends Error{constructor(e,t){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=t.url,this.status=t.status,this.aborted=t.aborted||!1,this.timedOut=t.timedOut||!1}}async function Ot(r,e={}){var t;r=O.fromUrl(r).url;const{visit:i=this.visit}=e,s=k({},this.options.requestHeaders,e.headers),o=(t=e.timeout)!=null?t:this.options.timeout,a=new AbortController,{signal:c}=a;e=k({},e,{headers:s,signal:c});let m,f=!1,h=null;o&&o>0&&(h=setTimeout(()=>{f=!0,a.abort("timeout")},o));try{m=await this.hooks.call("fetch:request",i,{url:r,options:e},(S,{url:y,options:L})=>fetch(y,L)),h&&clearTimeout(h)}catch(S){throw f?(this.hooks.call("fetch:timeout",i,{url:r}),new ge(`Request timed out: ${r}`,{url:r,timedOut:f})):(S==null?void 0:S.name)==="AbortError"||c.aborted?new ge(`Request aborted: ${r}`,{url:r,aborted:!0}):S}const{status:p,url:w}=m,$=await m.text();if(p===500)throw this.hooks.call("fetch:error",i,{status:p,response:m,url:w}),new ge(`Server error: ${w}`,{status:p,url:w});if(!$)throw new ge(`Empty response: ${w}`,{status:p,url:w});const{url:T}=O.fromUrl(w),b={url:T,html:$};return!i.cache.write||e.method&&e.method!=="GET"||r!==T||this.cache.set(b.url,b),b}class It{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((t,i)=>{e.set(i,k({},t))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const t=this.pages.get(this.resolve(e));return t&&k({},t)}set(e,t){t=k({},t,{url:e=this.resolve(e)}),this.pages.set(e,t),this.swup.hooks.callSync("cache:set",void 0,{page:t})}update(e,t){e=this.resolve(e);const i=k({},this.get(e),t,{url:e});this.pages.set(e,i)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((t,i)=>{e(i,t)&&this.delete(i)})}resolve(e){const{url:t}=O.fromUrl(e);return this.swup.resolveUrl(t)}}const Re=(r,e=document)=>e.querySelector(r),qe=(r,e=document)=>Array.from(e.querySelectorAll(r)),Xe=()=>new Promise(r=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})});function Ye(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function Pt(r,e=[]){return new Promise((t,i)=>{const s=r(...e);Ye(s)?s.then(t,i):t(s)})}function _e(r,e){const t=r==null?void 0:r.closest(`[${e}]`);return t!=null&&t.hasAttribute(e)?(t==null?void 0:t.getAttribute(e))||!0:void 0}class qt{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?qe(this.selector):[]}add(...e){this.targets.forEach(t=>t.classList.add(...e))}remove(...e){this.targets.forEach(t=>t.classList.remove(...e))}clear(){this.targets.forEach(e=>{const t=e.className.split(" ").filter(i=>this.isSwupClass(i));e.classList.remove(...t)})}isSwupClass(e){return this.swupClasses.some(t=>e.startsWith(t))}}class Qe{constructor(e,t){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:i,from:s,hash:o,el:a,event:c}=t;this.id=Math.random(),this.state=1,this.from={url:s??e.location.url,hash:e.location.hash},this.to={url:i,hash:o},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:a,event:c},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function Mt(r){return new Qe(this,r)}class Ht{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const t=this.registry.get(e);if(t)return t;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,t,i={}){const s=this.get(e);if(!s)return console.warn(`Hook '${e}' not found.`),()=>{};const o=k({},i,{id:s.size+1,hook:e,handler:t});return s.set(t,o),()=>this.off(e,t)}before(e,t,i={}){return this.on(e,t,k({},i,{before:!0}))}replace(e,t,i={}){return this.on(e,t,k({},i,{replace:!0}))}once(e,t,i={}){return this.on(e,t,k({},i,{once:!0}))}off(e,t){const i=this.get(e);i&&t?i.delete(t)||console.warn(`Handler for hook '${e}' not found.`):i&&i.clear()}async call(e,t,i,s){const[o,a,c]=this.parseCallArgs(e,t,i,s),{before:m,handler:f,after:h}=this.getHandlers(e,c);await this.run(m,o,a);const[p]=await this.run(f,o,a,!0);return await this.run(h,o,a),this.dispatchDomEvent(e,o,a),p}callSync(e,t,i,s){const[o,a,c]=this.parseCallArgs(e,t,i,s),{before:m,handler:f,after:h}=this.getHandlers(e,c);this.runSync(m,o,a);const[p]=this.runSync(f,o,a,!0);return this.runSync(h,o,a),this.dispatchDomEvent(e,o,a),p}parseCallArgs(e,t,i,s){return t instanceof Qe||typeof t!="object"&&typeof i!="function"?[t,i,s]:[void 0,t,i]}async run(e,t=this.swup.visit,i,s=!1){const o=[];for(const{hook:a,handler:c,defaultHandler:m,once:f}of e)if(t==null||!t.done){f&&this.off(a,c);try{const h=await Pt(c,[t,i,m]);o.push(h)}catch(h){if(s)throw h;console.error(`Error in hook '${a}':`,h)}}return o}runSync(e,t=this.swup.visit,i,s=!1){const o=[];for(const{hook:a,handler:c,defaultHandler:m,once:f}of e)if(t==null||!t.done){f&&this.off(a,c);try{const h=c(t,i,m);o.push(h),Ye(h)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${a}'.`)}catch(h){if(s)throw h;console.error(`Error in hook '${a}':`,h)}}return o}getHandlers(e,t){const i=this.get(e);if(!i)return{found:!1,before:[],handler:[],after:[],replaced:!1};const s=Array.from(i.values()),o=this.sortRegistrations,a=s.filter(({before:p,replace:w})=>p&&!w).sort(o),c=s.filter(({replace:p})=>p).filter(p=>!0).sort(o),m=s.filter(({before:p,replace:w})=>!p&&!w).sort(o),f=c.length>0;let h=[];if(t&&(h=[{id:0,hook:e,handler:t}],f)){const p=c.length-1,{handler:w,once:$}=c[p],T=b=>{const S=c[b-1];return S?(y,L)=>S.handler(y,L,T(b-1)):t};h=[{id:0,hook:e,once:$,handler:w,defaultHandler:T(p)}]}return{found:!0,before:a,handler:h,after:m,replaced:f}}sortRegistrations(e,t){var i,s;return((i=e.priority)!=null?i:0)-((s=t.priority)!=null?s:0)||e.id-t.id||0}dispatchDomEvent(e,t,i){if(t!=null&&t.done)return;const s={hook:e,args:i,visit:t||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:s,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:s,bubbles:!0}))}parseName(e){const[t,...i]=e.split(".");return[t,i.reduce((s,o)=>k({},s,{[o]:!0}),{})]}}const _t=r=>{if(r&&r.charAt(0)==="#"&&(r=r.substring(1)),!r)return null;const e=decodeURIComponent(r);let t=document.getElementById(r)||document.getElementById(e)||Re(`a[name='${CSS.escape(r)}']`)||Re(`a[name='${CSS.escape(e)}']`);return t||r!=="top"||(t=document.body),t},ve="transition",Ce="animation";async function jt({selector:r,elements:e}){if(r===!1&&!e)return;let t=[];if(e)t=Array.from(e);else if(r&&(t=qe(r,document.body),!t.length))return void console.warn(`[swup] No elements found matching animationSelector \`${r}\``);const i=t.map(s=>function(o){const{type:a,timeout:c,propCount:m}=function(f){const h=window.getComputedStyle(f),p=we(h,`${ve}Delay`),w=we(h,`${ve}Duration`),$=je(p,w),T=we(h,`${Ce}Delay`),b=we(h,`${Ce}Duration`),S=je(T,b),y=Math.max($,S),L=y>0?$>S?ve:Ce:null;return{type:L,timeout:y,propCount:L?L===ve?w.length:b.length:0}}(o);return!(!a||!c)&&new Promise(f=>{const h=`${a}end`,p=performance.now();let w=0;const $=()=>{o.removeEventListener(h,T),f()},T=b=>{b.target===o&&((performance.now()-p)/1e3<b.elapsedTime||++w>=m&&$())};setTimeout(()=>{w<m&&$()},c+1),o.addEventListener(h,T)})}(s));i.filter(Boolean).length>0?await Promise.all(i):r&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${r}\``)}function we(r,e){return(r[e]||"").split(", ")}function je(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((t,i)=>Ne(t)+Ne(r[i])))}function Ne(r){return 1e3*parseFloat(r)}function Nt(r,e={},t={}){if(typeof r!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(r,{el:t.el,event:t.event}))return void window.location.assign(r);const{url:i,hash:s}=O.fromUrl(r),o=this.createVisit(k({},t,{to:i,hash:s}));this.performNavigation(o,e)}async function Ut(r,e={}){if(this.navigating){if(this.visit.state>=6)return r.state=2,void(this.onVisitEnd=()=>this.performNavigation(r,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=r;const{el:t}=r.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(r.animation.animate=!1),r.animation.animate||this.classes.clear();const i=e.history||_e(t,"data-swup-history");typeof i=="string"&&["push","replace"].includes(i)&&(r.history.action=i);const s=e.animation||_e(t,"data-swup-animation");var o,a;typeof s=="string"&&(r.animation.name=s),r.meta=e.meta||{},typeof e.cache=="object"?(r.cache.read=(o=e.cache.read)!=null?o:r.cache.read,r.cache.write=(a=e.cache.write)!=null?a:r.cache.write):e.cache!==void 0&&(r.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",r,void 0),r.state=3;const c=this.hooks.call("page:load",r,{options:e},async(f,h)=>{let p;return f.cache.read&&(p=this.cache.get(f.to.url)),h.page=p||await this.fetchPage(f.to.url,h.options),h.cache=!!p,h.page});c.then(({html:f})=>{r.advance(5),r.to.html=f,r.to.document=new DOMParser().parseFromString(f,"text/html")});const m=r.to.url+r.to.hash;if(r.history.popstate||(r.history.action==="replace"||r.to.url===this.location.url?te(m):(this.currentHistoryIndex++,Ct(m,{index:this.currentHistoryIndex}))),this.location=O.fromUrl(m),r.history.popstate&&this.classes.add("is-popstate"),r.animation.name&&this.classes.add(`to-${Je(r.animation.name)}`),r.animation.wait&&await c,r.done||(await this.hooks.call("visit:transition",r,void 0,async()=>{if(!r.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(r,await c);r.advance(4),await this.animatePageOut(r),r.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(r,await c)).finished:await this.renderPage(r,await c),await this.animatePageIn(r)}),r.done))return;await this.hooks.call("visit:end",r,void 0,()=>this.classes.clear()),r.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(c){if(!c||c!=null&&c.aborted)return void(r.state=8);r.state=9,console.error(c),this.options.skipPopStateHandling=()=>(window.location.assign(r.to.url+r.to.hash),!0),window.history.back()}finally{delete r.to.document}}const Dt=async function(r){await this.hooks.call("animation:out:start",r,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",r,{skip:!1},(e,{skip:t})=>{if(!t)return this.awaitAnimations({selector:e.animation.selector})}),await this.hooks.call("animation:out:end",r,void 0)},Bt=function(r){var e;const t=r.to.document;if(!t)return!1;const i=((e=t.querySelector("title"))==null?void 0:e.innerText)||"";document.title=i;const s=qe('[data-swup-persist]:not([data-swup-persist=""])'),o=r.containers.map(a=>{const c=document.querySelector(a),m=t.querySelector(a);return c&&m?(c.replaceWith(m.cloneNode(!0)),!0):(c||console.warn(`[swup] Container missing in current document: ${a}`),m||console.warn(`[swup] Container missing in incoming document: ${a}`),!1)}).filter(Boolean);return s.forEach(a=>{const c=a.getAttribute("data-swup-persist"),m=Re(`[data-swup-persist="${c}"]`);m&&m!==a&&m.replaceWith(a)}),o.length===r.containers.length},Ft=function(r){const e={behavior:"auto"},{target:t,reset:i}=r.scroll,s=t??r.to.hash;let o=!1;return s&&(o=this.hooks.callSync("scroll:anchor",r,{hash:s,options:e},(a,{hash:c,options:m})=>{const f=this.getAnchorElement(c);return f&&f.scrollIntoView(m),!!f})),i&&!o&&(o=this.hooks.callSync("scroll:top",r,{options:e},(a,{options:c})=>(window.scrollTo(k({top:0,left:0},c)),!0))),o},Vt=async function(r){if(r.done)return;const e=this.hooks.call("animation:in:await",r,{skip:!1},(t,{skip:i})=>{if(!i)return this.awaitAnimations({selector:t.animation.selector})});await Xe(),await this.hooks.call("animation:in:start",r,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",r,void 0)},zt=async function(r,e){if(r.done)return;r.advance(6);const{url:t}=e;this.isSameResolvedUrl(ie(),t)||(te(t),this.location=O.fromUrl(t),r.to.url=this.location.url,r.to.hash=this.location.hash),await this.hooks.call("content:replace",r,{page:e},(i,{})=>{if(this.classes.remove("is-leaving"),i.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(i))throw new Error("[swup] Container mismatch, aborting");i.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),i.animation.name&&this.classes.add(`to-${Je(i.animation.name)}`))}),await this.hooks.call("content:scroll",r,void 0,()=>this.scrollToContent(r)),await this.hooks.call("page:view",r,{url:this.location.url,title:document.title})},Wt=function(r){var e;if(e=r,!!(e!=null&&e.isSwupPlugin)){if(r.swup=this,!r._checkRequirements||r._checkRequirements())return r._beforeMount&&r._beforeMount(),r.mount(),this.plugins.push(r),this.plugins}else console.error("Not a swup plugin instance",r)};function Gt(r){const e=this.findPlugin(r);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(t=>t!==e),this.plugins;console.error("No such plugin",e)}function Kt(r){return this.plugins.find(e=>e===r||e.name===r||e.name===`Swup${String(r)}`)}function Zt(r){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),r;const e=this.options.resolveUrl(r);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),r):e:(console.warn("[swup] options.resolveUrl needs to return a url"),r)}function Jt(r,e){return this.resolveUrl(r)===this.resolveUrl(e)}const Xt={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(r,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:r=>r,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:r=>{var e;return((e=r.state)==null?void 0:e.source)!=="swup"},timeout:0};class Yt{get currentPageUrl(){return this.location.url}constructor(e={}){var t,i;this.version="4.8.2",this.options=void 0,this.defaults=Xt,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=O.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Wt,this.unuse=Gt,this.findPlugin=Kt,this.log=()=>{},this.navigate=Nt,this.performNavigation=Ut,this.createVisit=Mt,this.delegateEvent=Rt,this.fetchPage=Ot,this.awaitAnimations=jt,this.renderPage=zt,this.replaceContent=Bt,this.animatePageIn=Vt,this.animatePageOut=Dt,this.scrollToContent=Ft,this.getAnchorElement=_t,this.getCurrentUrl=ie,this.resolveUrl=Zt,this.isSameResolvedUrl=Jt,this.options=k({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new It(this),this.classes=new qt(this),this.hooks=new Ht(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(t=(i=window.history.state)==null?void 0:i.index)!=null?t:1,this.enable()}async enable(){var e;const{linkSelector:t}=this.options;this.clickDelegate=this.delegateEvent(t,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(i=>this.use(i));for(const[i,s]of Object.entries(this.options.hooks)){const[o,a]=this.hooks.parseName(i);this.hooks.on(o,s,a)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&te(null,{index:this.currentHistoryIndex}),await Xe(),await this.hooks.call("enable",void 0,void 0,()=>{const i=document.documentElement;i.classList.add("swup-enabled"),i.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),await this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(e,{el:t,event:i}={}){const{origin:s,url:o,hash:a}=O.fromUrl(e);return s!==window.location.origin||!(!t||!this.triggerWillOpenNewWindow(t))||!!this.options.ignoreVisit(o+a,{el:t,event:i})}handleLinkClick(e){const t=e.delegateTarget,{href:i,url:s,hash:o}=O.fromElement(t);if(this.shouldIgnoreVisit(i,{el:t,event:e}))return;if(this.navigating&&s===this.visit.to.url)return void e.preventDefault();const a=this.createVisit({to:s,hash:o,el:t,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",a,{href:i}):e.button===0&&this.hooks.callSync("link:click",a,{el:t,event:e},()=>{var c;const m=(c=a.from.url)!=null?c:"";e.preventDefault(),s&&s!==m?this.isSameResolvedUrl(s,m)||this.performNavigation(a):o?this.hooks.callSync("link:anchor",a,{hash:o},()=>{te(s+o),this.scrollToContent(a)}):this.hooks.callSync("link:self",a,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(a):(te(s),this.scrollToContent(a))})})}handlePopState(e){var t,i,s,o;const a=(t=(i=e.state)==null?void 0:i.url)!=null?t:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(ie(),this.location.url))return;const{url:c,hash:m}=O.fromUrl(a),f=this.createVisit({to:c,hash:m,event:e});f.history.popstate=!0;const h=(s=(o=e.state)==null?void 0:o.index)!=null?s:0;h&&h!==this.currentHistoryIndex&&(f.history.direction=h-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=h),f.animation.animate=!1,f.scroll.reset=!1,f.scroll.target=!1,this.options.animateHistoryBrowsing&&(f.animation.animate=!0,f.scroll.reset=!0),this.hooks.callSync("history:popstate",f,{event:e},()=>{this.performNavigation(f)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function re(){return re=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},re.apply(this,arguments)}const Ue=r=>String(r).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");let Qt=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,t])=>{if(!function(i,s,o){const a=function(c,m){var f;if(c==="swup")return(f=m.version)!=null?f:"";{var h;const p=m.findPlugin(c);return(h=p==null?void 0:p.version)!=null?h:""}}(i,o);return!!a&&((c,m)=>m.every(f=>{const[,h,p]=f.match(/^([\D]+)?(.*)$/)||[];var w,$;return((T,b)=>{const S={"":y=>y===0,">":y=>y>0,">=":y=>y>=0,"<":y=>y<0,"<=":y=>y<=0};return(S[b]||S[""])(T)})(($=p,w=Ue(w=c),$=Ue($),w.localeCompare($,void 0,{numeric:!0})),h||">=")}))(a,s)}(e,t=Array.isArray(t)?t:[t],this.swup)){const i=`${e} ${t.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${i}`)}}),!0}on(e,t,i={}){var s;t=!(s=t).name.startsWith("bound ")||s.hasOwnProperty("prototype")?t.bind(this):t;const o=this.swup.hooks.on(e,t,i);return this.handlersToUnregister.push(o),o}once(e,t,i={}){return this.on(e,t,re({},i,{once:!0}))}before(e,t,i={}){return this.on(e,t,re({},i,{before:!0}))}replace(e,t,i={}){return this.on(e,t,re({},i,{replace:!0}))}off(e,t){return this.swup.hooks.off(e,t)}};(function(){if(!(typeof window>"u"||typeof document>"u"||typeof HTMLElement>"u")){var r=!1;try{var e=document.createElement("div");e.addEventListener("focus",function(o){o.preventDefault(),o.stopPropagation()},!0),e.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&typeof navigator.userAgent<"u"&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return r=!1;r=!0}}))}catch{}if(HTMLElement.prototype.nativeFocus===void 0&&!r){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var t=function(o){for(var a=o.parentNode,c=[],m=document.scrollingElement||document.documentElement;a&&a!==m;)(a.offsetHeight<a.scrollHeight||a.offsetWidth<a.scrollWidth)&&c.push([a,a.scrollTop,a.scrollLeft]),a=a.parentNode;return a=m,c.push([a,a.scrollTop,a.scrollLeft]),c},i=function(o){for(var a=0;a<o.length;a++)o[a][0].scrollTop=o[a][1],o[a][0].scrollLeft=o[a][2];o=[]},s=function(o){if(o&&o.preventScroll){var a=t(this);if(typeof setTimeout=="function"){var c=this;setTimeout(function(){c.nativeFocus(),i(a)},0)}else this.nativeFocus(),i(a)}else this.nativeFocus()};HTMLElement.prototype.focus=s}}})();function Oe(){return Oe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Oe.apply(this,arguments)}function De(r,e){return Object.keys(e).reduce((t,i)=>t.replace(`{${i}}`,e[i]||""),r||"")}class er{constructor(){var e;this.id="swup-announcer",this.style="position:absolute;top:0;left:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;word-wrap:normal;width:1px;height:1px;",this.region=void 0,this.region=(e=this.getRegion())!=null?e:this.createRegion()}getRegion(){return document.getElementById(this.id)}createRegion(){const e=function(t){const i=document.createElement("template");return i.innerHTML=t,i.content.children[0]}(`<p aria-live="assertive" aria-atomic="true" id="${this.id}" style="${this.style}"></p>`);return document.body.appendChild(e),e}announce(e,t=0){return new Promise(i=>{setTimeout(()=>{this.region.textContent===e&&(e=`${e}.`),this.region.textContent="",this.region.textContent=e,i()},t)})}}function Be(r){let e;if(e=typeof r=="string"?document.querySelector(r):r,!(e instanceof HTMLElement))return;const t=e.getAttribute("tabindex");e.setAttribute("tabindex","-1"),e.focus({preventScroll:!0}),t!==null&&e.setAttribute("tabindex",t)}class tr extends Qt{constructor(e={}){super(),this.name="SwupA11yPlugin",this.requires={swup:">=4"},this.defaults={headingSelector:"h1",respectReducedMotion:!0,autofocus:!1,announcements:{visit:"Navigated to: {title}",url:"New page at {url}"}},this.options=void 0,this.announcer=void 0,this.announcementDelay=100,this.rootSelector="body",this.handleAnchorScroll=(t,{hash:i})=>{const s=this.swup.getAnchorElement(i);s instanceof HTMLElement&&Be(s)},this.options=Oe({},this.defaults,e),this.announcer=new er}mount(){this.swup.hooks.create("content:announce"),this.swup.hooks.create("content:focus"),this.before("visit:start",this.prepareVisit),this.on("visit:start",this.markAsBusy),this.on("visit:end",this.unmarkAsBusy),this.on("visit:end",this.focusContent),this.on("visit:end",this.announceContent),this.on("scroll:anchor",this.handleAnchorScroll),this.before("visit:start",this.disableAnimations),this.before("link:self",this.disableAnimations),this.before("link:anchor",this.disableAnimations),this.swup.announce=this.announce.bind(this)}unmount(){this.swup.announce=void 0}async announce(e){await this.announcer.announce(e)}markAsBusy(){document.documentElement.setAttribute("aria-busy","true")}unmarkAsBusy(){document.documentElement.removeAttribute("aria-busy")}prepareVisit(e){e.a11y={announce:void 0,focus:this.rootSelector}}announceContent(e){this.swup.hooks.callSync("content:announce",e,void 0,t=>{t.a11y.announce===void 0&&(t.a11y.announce=this.getPageAnnouncement()),t.a11y.announce&&this.announcer.announce(t.a11y.announce,this.announcementDelay)})}focusContent(e){this.swup.hooks.callSync("content:focus",e,void 0,t=>{t.a11y.focus&&(this.options.autofocus&&function(){const i=function(){const s=document.querySelector("body [autofocus]");if(s&&!s.closest('[inert], [aria-disabled], [aria-hidden="true"]'))return s}();return!!i&&(i!==document.activeElement&&i.focus(),!0)}()===!0||Be(t.a11y.focus))})}getPageAnnouncement(){const{headingSelector:e,announcements:t}=this.options;return function({headingSelector:i="h1",announcements:s={}}){var o,a;const c=document.documentElement.lang||"*",{href:m,url:f,pathname:h}=O.fromUrl(window.location.href),p=(o=(a=s[c])!=null?a:s["*"])!=null?o:s;if(typeof p!="object")return;const w=document.querySelector(i);w||console.warn(`SwupA11yPlugin: No main heading (${i}) found on new page`);const $=(w==null?void 0:w.getAttribute("aria-label"))||(w==null?void 0:w.textContent)||document.title||De(p.url,{href:m,url:f,path:h});return De(p.visit,{title:$,href:m,url:f,path:h})}({headingSelector:e,announcements:t})}disableAnimations(e){this.options.respectReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(e.animation.animate=!1,e.scroll.animate=!1)}}window.addEventListener("DOMContentLoaded",()=>{let r=null,e=null,t=null;const i=()=>{if(nt.run(),ot(),r=new wt,r.execute(),ht(),document.getElementById("lateralBar")&&(e=new xt,e.display(),window.addEventListener("resize",a=>{P.debounce(e.display(),50)()})),t=new Lt,t.init(),document.getElementById("search")){let a=document.getElementById("search"),c=a.querySelector("form"),m=a.querySelector("#resultSearch"),f=a.querySelector("output");c.addEventListener("submit",h=>{h.preventDefault();let p=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),w={};new FormData(c).forEach((y,L)=>{w[L]=y});let T=Object.entries(w).map(([y,L])=>`${encodeURIComponent(y)}=${encodeURIComponent(L)}`).join("&"),b={method:c.method.toUpperCase(),headers:p,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors"},S=window.location.origin.includes("rb-webstudio")?c.action:`http://localhost/portfolio/public${c.getAttribute("action")}`;fetch(`${S}?${T}`,b).then(y=>{if(y.ok===!0)return y.json()}).then(({data:y})=>{let L=new We,Ae=document.getElementById("tplLayer"),B=Object.keys(y).length,fe=[];if(f.innerHTML=`<strong>${B}</strong> résultat${B>1?"s":""} trouvé${B>1?"s":""}`,B>0){let pe=250,u=document.createElement("nav");for(let n of Object.values(y))fe.push({url:`/articles/${n.slug}-${n.id}.html`,text:n.title});u.style.height=`${window.innerHeight-pe}px`,window.addEventListener("resize",n=>{P.debounce(()=>{u.style.height=`${window.innerHeight-pe}px`},200)()}),u.innerHTML=L.render(Ae.textContent,{rows:fe}),m.innerHTML=u.outerHTML}})})}},s=()=>{r=null,e=null,t=null};i();const o=new Yt({containers:["#viewsTransition"],hooks:{"visit:end":(...a)=>{i()},"animation:out:start":()=>{},"animation:in:start":()=>{},"page:view":(...a)=>{s()}},plugins:[new tr]})});
