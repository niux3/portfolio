var G=d=>{throw TypeError(d)};var D=(d,i,a)=>i.has(d)||G("Cannot "+a);var x=(d,i,a)=>(D(d,i,"read from private field"),a?a.call(d):i.get(d)),q=(d,i,a)=>i.has(d)?G("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(d):i.set(d,a),R=(d,i,a,l)=>(D(d,i,"write to private field"),l?l.call(d,a):i.set(d,a),a),U=(d,i,a)=>(D(d,i,"access private method"),a);/* empty css               */class O{static debounce(i,a,l,n){var c,h=null;return function(){var u=n||this,m=arguments,p=function(){h=null,l||(c=i.apply(u,m))},v=l&&!h;return clearTimeout(h),h=setTimeout(p,a),v&&(c=i.apply(u,m)),c}}static throttle(i,a,l,n,c){var h,u,m,p=null,v=0,b=function(){v=new Date,p=null,m=i.apply(h,u)};return function(){var A=new Date;!v&&!l&&(v=A);var _=a-(A-v);return h=c||this,u=arguments,_<=0?(clearTimeout(p),p=null,v=A,m=i.apply(h,u)):!p&&n&&(p=setTimeout(b,_)),m}}}class ee{constructor(i){this.$article=i}getPercent(i){this._offsetTop=this.$article.offsetTop,this._heightTotalArticle=this.$article.getBoundingClientRect().height;let a=null,l=0;return i>this._offsetTop&&(a=(i+this._offsetTop)*100/this._heightTotalArticle),l=window.innerHeight*(parseInt(a,10)/100),a=(i+l-this._offsetTop)*100/this._heightTotalArticle,(0>a||isNaN(a))&&(a=0),100<a&&(a=100),a}}class te{constructor(){this.$progressTrue=document.getElementById("progressTrue"),this.$progressTrue.insertAdjacentHTML("afterend",document.getElementById("tplProgressFalse").innerHTML),this.$progressFalse=document.getElementById("progressFalse"),this.$cursorProgress=document.getElementById("cursorProgress")}execute(i){this.$progressTrue.value=i,this.$cursorProgress.style.width=`${i}%`}}var C,z;class se{constructor(){q(this,C);q(this,z);this.$article=document.querySelector("article"),R(this,C,new ee(this.$article)),R(this,z,new te)}setProgression(i){let a=Math.floor(x(this,C).getPercent(i));this.render(a)}render(i){x(this,z).execute(i)}}C=new WeakMap,z=new WeakMap;class re{static run(){if(document.querySelectorAll("article").length>0){let i=new se,a=["resize","load"];window.addEventListener("scroll",l=>{O.debounce(()=>{i.setProgression(window.scrollY)},200)()},{passive:!0});for(let l of a)window.addEventListener(l,()=>{O.debounce(()=>{i.setProgression(window.scrollY)},200)()})}}}const ie=()=>{let d=document.querySelector("footer .changeMode"),i=localStorage.getItem("theme"),a=l=>{let n={light:{text:"mode clair",icon:"fa-solid fa-moon"},dark:{text:"mode sombre",icon:"fa-solid fa-sun"}},c=[void 0,"light"].some(u=>u===document.documentElement.dataset.themePreference),h=c?"dark":"light";l.querySelector(".fa-solid").className=n[h].icon,l.querySelector(".text").textContent=n[h].text,document.documentElement.dataset.themePreference=h,localStorage.setItem("theme",h)};i?document.documentElement.dataset.themePreference=i:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&a(d),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{a(d)}),d!==null&&d.addEventListener("pointerdown",l=>{a(d)})};function ae(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var H={exports:{}},le=H.exports,V;function ne(){return V||(V=1,function(d,i){(function(a,l){d.exports=l()})(le,function(){var a=Object.defineProperty,l=(s,e,t)=>e in s?a(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,n=(s,e,t)=>l(s,typeof e!="symbol"?e+"":e,t);class c{constructor(e,t=null){n(this,"attrs"),this.attrs=this.isObject(t)?{...t,...e}:e}isObject(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}add(e,t){this.attrs[e]=t}get(){return{...this.attrs}}}const h=Object.freeze(Object.defineProperty({__proto__:null,IsAlpha:s=>new RegExp("^[a-zA-Z]+$").test(s.trim()),IsAlphaNumeric:s=>new RegExp("^[a-z0-9]+$","i").test(s.trim()),IsBetween:(s,e)=>{let[t,r]=e.split(";");if(!t||!r)throw new Error("Invalid range format. Expected 'minmax'.");const o=typeof s=="string"?parseInt(s,10):s;return o>parseInt(t,10)&&o<parseInt(r,10)},IsBetweenLength:(s,e)=>{if(typeof e!="string")throw new Error("Invalid range format. Expected 'minmax' (isbetweenlength).");if(!e.includes(";"))throw new Error("arguments must be separated by a semicolon example: 2;3 (isbetweenlength).");let[t,r]=e.split(";");return s.length>parseInt(t,10)&&s.length<parseInt(r,10)},IsBoolean:s=>[!0,!1,0,1,"0","1","true","false"].some(e=>e===s),IsCreditCard:s=>{if(s=s.trim(),/[^0-9\- ]+/.test(s)||(s=s.replace(/\D/g,""),s.length<13||s.length>19))return!1;let e=0,t=!1;for(let r=s.length-1;r>=0;r--){let o=parseInt(s[r],10);t&&(o*=2,o>9&&(o-=9)),e+=o,t=!t}return e%10!==0?!1:/^5[1-5]|^2[2-7]/.test(s)?s.length===16:/^4/.test(s)?s.length===13||s.length===16:/^3[47]/.test(s)?s.length===15:/^3(0[0-5]|[68])/.test(s)?s.length===14:/^6011/.test(s)?s.length===16:!1},IsDate:s=>{if(["",null,void 0].some(w=>w===s))return!1;let e=s.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!e)return!1;let[t,r,o,f]=e.map(Number);return o>0&&o<13&&r>0&&r<32768&&f>0&&f<=new Date(r,o,0).getDate()},IsEmail:s=>/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(s.trim()),IsEqualTo:(s,e)=>{var t;return!/^\d+/.test(e)&&e.length>0&&document.querySelectorAll(e)!==null?s===((t=document.querySelector(e))==null?void 0:t.value.trim()):/^\d+$/.test(e)?parseInt(e,10)===parseInt(s,10):e===s},IsIncludes:(s,e)=>e.toString().includes(s.toString()),IsMaxLength:(s,e)=>{if(!/^\d+$/.test(e.toString()))throw new Error('The params of method "is max length" must be a number');return s.length<parseInt(e.toString(),10)},IsMinLength:(s,e)=>{if(!/^\d+$/.test(e.toString()))throw new Error('The params of method "is min length" must be a number');return s.length>parseInt(e.toString(),10)},IsMobilePhone:(s,e)=>{let t={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[1356789][0-9]{8}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(\+?31|0)6?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};return t["en-CA"]=t["en-US"],t["fr-BE"]=t["nl-BE"],t["zh-HK"]=t["en-HK"],!Object.keys(t).includes(e)||typeof s!="string"?!1:t[e].test(s)},IsNotEmpty:s=>[null,void 0].some(e=>e===s)?!1:(s=typeof s=="string"?s.trim():s,s.length!==0),IsNumeric:s=>new RegExp("^[0-9]+$").test(s),IsPostalCode:(s,e)=>{let t=/^\d{3}$/,r=/^\d{4}$/,o=/^\d{5}$/,f=/^\d{6}$/,w={AD:/^AD\d{3}$/,AT:r,AU:r,BE:r,BG:r,BR:/^\d{5}-\d{3}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:r,CZ:/^\d{3}\s?\d{2}$/,DE:o,DK:r,DZ:o,EE:o,ES:o,FI:o,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:r,ID:o,IL:o,IN:f,IS:t,IT:o,JP:/^\d{3}\-\d{4}$/,KE:o,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:r,LV:/^LV\-\d{4}$/,MX:o,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,NL:/^\d{4}\s?[a-z]{2}$/i,NO:r,NZ:r,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:f,RU:f,SA:o,SE:/^[1-9]\d{2}\s?\d{2}$/,SI:r,SK:/^\d{3}\s?\d{2}$/,TN:r,TW:/^\d{3}(\d{2})?$/,UA:o,US:/^\d{5}(-\d{4})?$/,ZA:r,ZM:o};return!Object.keys(w).includes(e)||typeof s!="string"?!1:w[e.toUpperCase()].test(s)},IsUrl:s=>new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(s.trim())},Symbol.toStringTag,{value:"Module"}));class u{constructor(){n(this,"rulesList",{});for(let[e,t]of Object.entries(h))this.rulesList[e.toLowerCase()]=t}get(){return this.rulesList}set(e,t){typeof t=="function"?this.rulesList[e]=t:console.warn(`The rule ${e} isn't a function.`)}}class m{constructor(e){n(this,"message",""),this.element=e}handle(){this.element.$el.classList.contains("error")&&this.element.$el.classList.remove("error"),this.element.$el.classList.contains("success")&&this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.removeAttribute("aria-invalid"),this.element.$el.removeAttribute("aria-describedby"))}toString(){return"neutral"}}class p{constructor(e){n(this,"message",""),this.element=e}handle(){this.element.$el.classList.add("error"),this.element.$el.classList.remove("success"),this.element.$el.nodeName.toLowerCase()!=="form"&&(this.element.$el.setAttribute("aria-invalid","true"),this.element.$el.setAttribute("aria-describedby",this.element.getId().html))}toString(){return"error"}}class v{constructor(e){n(this,"message",""),this.element=e}handle(){if(this.element.$el.classList.add("success"),this.element.$el.classList.remove("error"),this.element.$el.nodeName.toLowerCase()!=="form"){this.element.$el.setAttribute("aria-invalid","false"),this.element.$el.removeAttribute("aria-describedby");for(let[e,t]of Object.entries(this.element.getParams()))if(e!=="target"&&Object.keys(t).includes("success")){this.element.$el.setAttribute("aria-describedby",this.element.getId().html);break}}}toString(){return"success"}}class b{constructor(e){n(this,"state"),n(this,"$el"),n(this,"id"),n(this,"params"),n(this,"rules"),n(this,"middleware"),this.$el=e.element,this.id={html:e.id.html,fo:e.id.fo,fi:e.id.fi},this.params=e.params,this.rules=e.rules,this.state=new m(this),this.middleware=e.middleware}setState(e){this.state=e,this.state.handle()}errorState(){this.setState(new p(this))}successState(){this.setState(new v(this))}resetState(){this.setState(new m(this))}getState(){return this.state}getId(){return this.id}getParams(){return this.params}on(e,t,r=!1){this.$el.addEventListener(e,o=>{t(o,this)},r)}}class A{extractValue(e){let t=[];return e.querySelectorAll("option").forEach(r=>{r.selected&&t.push(r.value)}),t}}class _{extractValue(e){let t=[];return document.getElementsByName(e.name).forEach(r=>{r.checked&&t.push(r.value)}),t}}class S{extractValue(e){return e.value.trim()}}const g=new A,$=new _,E=new S;class L{static getExtractor(e){return e instanceof HTMLSelectElement&&e.hasAttribute("multiple")?this.extractors["select[multiple]"]:e instanceof HTMLInputElement&&this.extractors[`input:${e.type}`]||E}}n(L,"extractors",{"select[multiple]":g,"input:checkbox":$,"input:radio":$});class K extends b{constructor(e){super(e),this.id.html=`vfo${this.id.fo}__vfi${this.id.fi}`,this.switchRequireAttribute(),[void 0,null].some(t=>this.params===t)&&this.getParamsFromHTML()}update(e,t,r){return r(e)}validate(){var e,t;let r=this.rules.get(),o=L.getExtractor(this.$el),f=o.extractValue(this.$el),w=[],T=this.getRulesList();if(T){for(let y of T)for(let I in r)if(I===y){let P=r[I](f,this.params[I].params),M={status:P,message:this.params[I][P?"success":"error"]};w.push(M)}}return w.every(y=>y.status===!0)?(this.successState(),this.middleware.fieldOnSuccess(this.$el),this.state.message=((e=w.find(y=>y.status))==null?void 0:e.message)||""):(this.errorState(),this.middleware.fieldOnError(this.$el),this.state.message=((t=w.find(y=>!y.status))==null?void 0:t.message)||""),this}displayState(){var e,t,r,o;let f=this.id.html,w=this.state.toString(),T=this.$el.name,y=this.state.message,I=this.$el.closest("form"),P=`.error[data-name="field_${this.$el.name}"], .success[data-name="field_${this.$el.name}"]`,M={target:null,mode:"beforeend"};if(I===null)throw new Error(`this field (${this.$el.name}) must be in HTMLFormElement`);if(this.params.hasOwnProperty("target"))for(let X in this.params.target)(e=I==null?void 0:I.querySelectorAll(this.params.target[X]))==null||e.forEach(Q=>{Q.querySelectorAll(P).length>0||y!==""&&(M={target:I.querySelector(this.params.target[this.state.toString()]),mode:"beforeend"})});else{if(((r=(t=this.$el.parentNode)==null?void 0:t.querySelectorAll(P))==null?void 0:r.length)>0)return;M={target:this.$el,mode:"afterend"}}f&&((o=M.target)==null||o.insertAdjacentHTML(M.mode,this.getTemplate(w,f,T,y)))}clean(){var e;return this.resetState(),document.getElementById(this.id.html)!==null&&((e=document.getElementById(this.id.html))==null||e.remove()),this}getParamsFromHTML(){var e;let t={},r=[void 0,null],o=(e=this.$el.dataset.validateRules)==null?void 0:e.trim().replace(/\s+/g," ").split(" ");if(o===void 0)throw new Error(`this.params is empty (field name : ${this.$el.name})`);o.forEach(f=>{let w={},T={error:""};if(t[f]={},r.every(y=>this.$el.dataset.validateTargetError!==y)&&(w.error=this.$el.dataset.validateTargetError),r.every(y=>this.$el.dataset.validateTargetSuccess!==y)&&(w.success=this.$el.dataset.validateTargetSuccess),["success","error"].some(y=>w.hasOwnProperty(y))&&(t.target=w),this.$el.getAttribute(`data-validate-${f}-args`)!==null&&(T.params=this.$el.getAttribute(`data-validate-${f}-args`).trim()),this.$el.getAttribute(`data-success-${f}`)!==null&&(T.success=this.$el.getAttribute(`data-success-${f}`).trim()),this.$el.getAttribute(`data-error-${f}`)===null)throw new Error(`field ${this.$el.name} doesn't have error message for this rule : ${f}`);T.error=this.$el.getAttribute(`data-error-${f}`).trim(),t[f]=T}),this.params=t}switchRequireAttribute(){this.$el.hasAttribute("required")&&(this.$el.removeAttribute("required"),this.$el.classList.add("require"))}getRulesList(){try{if([void 0,null].some(r=>this.params===r))throw new Error(`this.params is empty (field name : ${this.$el.name})`);let e=[],t=!1;for(let r of Object.keys(this.params))r.trim().replace(/\s+/g," ")!=="target"&&(r==="isempty"?t=!0:e=[...e,r]);return t&&(e=[...e,"isempty"]),e}catch(e){console.error(e)}}getTemplate(e,t,r,o){return`<span id="${t}" data-name="field_${r}" class="${e}">${o}</span>`}}class Y extends b{constructor(e){super(e),n(this,"fields",[]);for(let[t,r]of Object.entries(this.$el.querySelectorAll(this.getSelectorRequiresFields())))this.register(parseInt(t,10),r,e.middleware)}register(e,t,r){let o=Object.keys(this.params).includes(t.name)?this.params[t.name]:null,f={element:t,id:{fo:this.id.fo,fi:e},rules:this.rules,params:o,middleware:r};this.fields=[...this.fields,new K(f)]}unregister(e){this.fields=this.fields.filter(t=>t.$el!==e.$el)}notify(e){this.fields.forEach((r,o)=>{r.update(r,o,e)});let t=this.fields.every(r=>r.state.toString()==="success")?"success":"error";this[`${t}State`]()}getFields(){return this.fields}getSelectorRequiresFields(){return["input","textarea","select"].map(e=>`${e}.require,${e}[required]`).join(",")}}class J{constructor(e){n(this,"forms",[]),n(this,"configuration"),this.configuration=e.get(),document.querySelectorAll(this.configuration.options.get().selector).length&&document.querySelectorAll(this.configuration.options.get().selector).forEach(t=>{this.addForm(t)})}addForm(e){let t={element:e,id:{html:`vfo${this.forms.length}_`,fo:this.forms.length,fi:null},state:null,params:this.configuration.options.get().fields,rules:this.configuration.rules,middleware:this.configuration.middleware};this.forms=[...this.forms,new Y(t)]}rmForm(e){this.forms=[...this.forms.filter(t=>t.$el!==e)]}get(){return this.forms}}class W{constructor(e={}){n(this,"app"),n(this,"formsGroup"),n(this,"middleware",{formOnError(o,f){},formOnSuccess(o,f){},fieldOnError(o){},fieldOnSuccess(o){}});let t={selector:"form",fields:{}},r=new c(e,t);this.app=new c({options:r,rules:new u,middleware:this.middleware}),this.formsGroup=new J(this.app)}form(){this.formsGroup.get().forEach(e=>{e.on("submit",(t,r)=>{r.notify(o=>o.clean().validate().displayState()),r.getState().toString()==="error"&&(t.preventDefault(),this.middleware.formOnError(t,r.$el)),r.getState().toString()==="success"&&this.middleware.formOnSuccess(t,r.$el)})})}checkForm(e,t){this.formsGroup.get().forEach(r=>{e===r.$el&&(r.notify(o=>o.clean().validate().displayState()),r.getState().toString()==="error"&&t.preventDefault())})}element(e){this.formsGroup.get().forEach(t=>{t.notify(r=>{r.$el===e&&r.clean().validate().displayState()})})}addRequireField(e){this.formsGroup.get().forEach(t=>{t.$el===e.closest("form")&&(e.classList.add("require"),t.register(t.getFields().length,e,this.middleware))})}removeRequireField(e){this.formsGroup.get().forEach(t=>{t.notify(r=>{r.$el===e&&(r.$el.classList.remove("require"),t.unregister(r))})})}addRequireForm(e){let t=!1;this.formsGroup.get().forEach(r=>{r.$el===e&&(t=!0)}),t||this.formsGroup.addForm(e)}removeRequireForm(e){this.formsGroup.rmForm(e)}addRules(e,t){this.app.get().rules.set(e,t)}check(e,t,r={}){return this.app.get().rules.get()[t](e,r)}}return W})}(H)),H.exports}var oe=ne();const de=ae(oe),ce=()=>{let d=[document.querySelector('input[name="phone"]'),document.querySelector('input[name="date_appointment"]'),document.querySelector('input[name="hour_appointment"]')],i=document.getElementById("formContact"),a=new de;window.matchMedia("(max-width: 640px)").matches&&d.forEach(l=>{l.hasAttribute("disabled")&&l.closest("label").classList.add("hide")}),window.addEventListener("resize",l=>{d.forEach(n=>{n.hasAttribute("disabled")&&n.closest("label").classList.add("hide")})}),document.querySelector("input[name=appointement]").addEventListener("change",l=>{let n=window.matchMedia("(max-width: 640px)").matches?"hide":"invisible";for(let c of d)c.setAttribute("disabled",!0),c.closest("label").classList.remove("hide","invisible"),c.closest("label").classList.add(n),a.removeRequireField(c),document.querySelectorAll("#errorAppointment .error").length>0&&document.querySelectorAll("#errorAppointment .error").forEach(h=>h.remove()),l.target.checked&&(c.removeAttribute("disabled"),a.addRequireField(c),c.closest("label").classList.remove(n))}),a.addRules("checkphone",l=>/^0[1-8][ .-]?(\d{2}[ .-]?){4}$/.test(l)),a.addRules("datemin",l=>{let n=new Date,c=new Date(l);return c.setHours(0),c.setMinutes(0),n.setHours(0),n.setMinutes(0),n.getTime()<=c.getTime()}),a.addRules("businessday",l=>![0,6].includes(new Date(l).getDay())),a.addRules("betweenhour",(...l)=>{let[n,c]=l,[h,u]=c.split(";"),[m,p]=n.split(":");return parseInt(h,10)<=parseInt(m,10)&&parseInt(u,10)>parseInt(m,10)}),a.form(),a.middleware.formOnSuccess=(l,n)=>{if(n===i){l.preventDefault();let c=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),h=document.querySelector("input[name=appointement]"),u=l.target,m={},p=new FormData(u),v=["phone","date_appointment","hour_appointment"],b=(g,$)=>{let E=g.closest(".content"),L=document.createElement("div");L.classList.add("result"),L.insertAdjacentHTML("beforeend",`<p class="text-center"><span>${$}</span></p>`),E.insertAdjacentElement("afterend",L),E.classList.add("minimize"),setTimeout(()=>{L.classList.add("show")},0)};p.forEach((g,$)=>{m[$]=g}),h.checked||v.forEach(g=>delete m[g]);let A=Object.entries(m).map(([g,$])=>`${g}=${$}`).join("&"),_={method:"POST",headers:c,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",body:A},S=window.location.origin.includes("rb-webstudio")?u.action:"http://localhost/portfolio/public/services/mail/send.html";fetch(S,_).then(g=>{if(g.ok===!0)return g.json()}).then(({data:g,errors:$})=>{if(document.querySelectorAll("span.error").forEach(E=>E.remove()),document.querySelectorAll(".require").forEach(E=>E.classList.remove("error")),Object.keys($).length>0)for(let E in $)if(Object.keys($).includes(E)){let L=document.querySelector(`*[name="${E}"]`);L.classList.add("error"),L.insertAdjacentHTML("afterend",`<span class="error">${$[E]}</span>`)}else throw new Error("Une erreur est survenue. Veuillez réessayer plus tard.");else u.reset(),b(u,"Merci pour votre message. <br>Je vous recontacte dans les plus brefs délais. <br>Vous allez recevoir une réponse automatique")}).catch(g=>{console.error(g),b(u,"Une erreur est survenue. Veuillez réessayer plus tard.")})}}};var j;class ue{constructor(){q(this,j)}setStrategy(i){R(this,j,i)}execute(i){var a;(a=x(this,j))==null||a.execute(i)}}j=new WeakMap;class B{constructor(){if(new.target===B)throw new Error("Cannot instantiate AbstractStrategy directly")}_sendLog(i){i={...i,theme:localStorage.getItem("theme")};let a=new Headers({"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}),l=new FormData;for(let u in i)l.append(u,i[u]);let n={method:"POST",headers:a,cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",mode:"cors",keepalive:!0,body:l},c="/services/pages/views-log.html",h=window.location.origin.includes("rb-webstudio")?c:`http://localhost/portfolio/public/${c}`;fetch(h,n).then(u=>{if(u.ok===!0)return u.json()}).catch(u=>console.warn("error >",u))}_logStart(i){this._sendLog({type:"start",path:i})}_logClick(i){this._sendLog({type:"click",path:i})}_logRead(i){this._sendLog({type:"read",path:i})}_logEnd(i){window.addEventListener("unload",a=>{this._sendLog({type:"end",path:i})})}execute(){throw new Error("Cannot instantiate AbstractStrategy directly")}}class he extends B{_logRead(i){let a=document.querySelector("progress"),l=!1;window.addEventListener("scroll",n=>{O.debounce(()=>{a.value>=50&&!l&&(this._sendLog({type:"read",path:i}),l=!0)},200)()})}execute(i){this._logStart(i),this._logRead(i)}}class me extends B{_logClick(i){document.querySelectorAll(".work a").forEach(a=>{a.addEventListener("pointerdown",l=>{let n={url:a.getAttribute("href"),text:a.querySelector(".bold").textContent};this._sendLog({type:"click",path:i,...n})})})}execute(i){this._logStart(i),this._logClick(i)}}class fe extends B{_logClick(i){document.querySelectorAll(".posts .items-articles li a").forEach(a=>{a.addEventListener("pointerdown",l=>{let n={url:a.getAttribute("href"),text:a.textContent};this._sendLog({type:"click",path:i,...n})})})}execute(i){this._logStart(i)}}class ge extends B{_logClick(i){document.querySelectorAll(".posts .items-articles li a").forEach(a=>{a.addEventListener("pointerdown",l=>{let n={url:a.getAttribute("href"),text:a.textContent};this._sendLog({type:"click",path:i,...n})})})}execute(i){this._logStart(i)}}var k,F,N,Z;class pe{constructor(){q(this,N);q(this,k);q(this,F);R(this,k,window.location.pathname),R(this,F,{"^\\/articles\\/[a-zA-Z0-9\\-]+-\\d+\\.html$":he,"^\\/articles\\/index\\.html$":fe,"^\\/articles\\/chercher-articles-par-[a-zA-Z0-9\\-]+\\.html$":ge,"^\\/$|^\\/index\\.html$":me})}execute(){let i=new ue,a=U(this,N,Z).call(this,x(this,k));a!==null?(i.setStrategy(new a),i.execute(x(this,k))):console.warn("No strategy found for path:",x(this,k))}}k=new WeakMap,F=new WeakMap,N=new WeakSet,Z=function(i){let a=null;for(let[l,n]of Object.entries(x(this,F)))new RegExp(l).test(i)&&(a=n);return a};window.addEventListener("DOMContentLoaded",()=>{var c,h;re.run(),ie(),new pe().execute(),ce();class i{constructor(){q(this,c);R(this,c,[])}add(m){x(this,c).push(m)}notify(m){for(let p of x(this,c))p.update(m)}}c=new WeakMap;class a{constructor(m){q(this,h);this._el=m,R(this,h,!1)}get $el(){return this._el}checkVisibility(m){throw new Error("Method 'checkVisibility' must be implemented")}update(m){R(this,h,this.checkVisibility(m)),this._el.setAttribute("aria-hidden",x(this,h)),this._el.classList[x(this,h)?"add":"remove"]("visible")}}h=new WeakMap;class l extends a{checkVisibility(m){return m>window.innerHeight}}class n extends a{checkVisibility(m){return document.querySelector("article .share").getBoundingClientRect().y<0}}if(document.getElementById("lateralBar")){let u=document.getElementById("lateralBar"),m=document.querySelectorAll("#lateralBar button"),p=document.body.querySelector("main"),v=()=>{if(window.matchMedia("( min-width: 961px )").matches){let S=p.getBoundingClientRect().width,g=window.innerWidth;u.classList.remove("visible"),u.style.right=`${(g-S)/2-40}px`,u.addEventListener("transitionend",$=>{setTimeout(()=>{u.classList.add("visible")},1200)})}else window.matchMedia("(max-width: 960px)").matches&&u.classList.add("visible")};v(),window.addEventListener("resize",S=>{O.debounce(v,50)()});let b=new i,A=new l(document.querySelector('#lateralBar a[href="#top"]')),_=new n(document.querySelector("#lateralBar .share"));b.add(A),b.add(_),O.debounce(()=>{b.notify(window.scrollY)},400)(),window.addEventListener("scroll",S=>{O.debounce(()=>{b.notify(window.scrollY)},400)()}),m.forEach(S=>{S.addEventListener("pointerdown",g=>{console.log(S.dataset.panel),S.dataset.panel==="true"&&(m.forEach($=>$.classList.remove("current")),S.classList.add("current"))})})}});
