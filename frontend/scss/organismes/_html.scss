@keyframes animate_in{
  0%{
    opacity: 0;
    filter: blur(5px);
  }
  100%{
    opacity: 1;
    filter: blur(0);
  }
}
@keyframes animate_out{
  0%{
    opacity: 1;
    filter: blur(0px);
  }
  100%{
    opacity: 0;
    filter: blur(5px);
  }
}
html{
  --animation-duration: .6s;
  &.animate-home{
    .transition-fade{
      opacity: 0;
      filter: blur(5px);
      animation: var(--animation-duration) animate_in forwards;

      @for $i from 1 to 100{
        &.delay#{$i}{
          animation-delay: #{200 * $i}ms;
        }
      }
    }
  }
  
  &.is-changing{
    .transition-fade{
      opacity: 0;
      filter: blur(5px);
      animation: var(--animation-duration) animate_in forwards;

      @for $i from 1 to 100{
        &.delay#{$i}{
          animation-delay: #{200 * $i}ms;
        }
      }

      //opacity: 0;
      //filter: blur(5px);
      //animation: .4s animate_home forwards;

      //@for $i from 1 to 100{
        //&.delay#{$i}{
          //animation-delay: #{200 * $i}ms;
        //}
      //}
        //transition: opacity 0.6s, filter .6s, transform .4s;
        //opacity: 1;
        ////transform: translateY(0);
        //filter: blur(0);
        //@for $i from 1 to 100{
          //&.delay#{$i}{
            //transition-delay: #{200 * $i}ms;
          //}
        //}
    }
    :is(.layer, #lateralBar){
        opacity: 0 !important;
        visibility: hidden !important;
        /*transition: none !important;*/
    }

  }

  &.is-animating{
    .transition-fade {

      opacity: 0;
      filter: blur(5px);
      animation: var(--animation-duration) animate_out forwards;

      @for $i from 1 to 100{
        &.delay#{$i}{
          animation-delay: 0;
        }
      }
      //opacity: 0;
      ////transform: translateY(-5rem);
      //filter: blur(5px);
      //@for $i from 1 to 100{
        //&.delay#{$i}{
          //transition-delay: #{200 * $i}ms;
        //}
      //}
    }

    :is(.layer, #lateralBar){
        opacity: 0 !important;
        visibility: hidden !important;
        /*transition: none !important;*/
    }

    &.is-leaving{
      .transition-fade{
        animation-delay: 0ms !important;
      }
    }
  }
}
