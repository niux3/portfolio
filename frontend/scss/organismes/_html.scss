html{
  --animation-duration: .6s;
  .transition-fade{
    position: relative;
  }
  &.animate-home{
    .transition-fade{
      > *{
        opacity: 0;
        animation: .6s animate_in forwards;
      }

      &:before{
        content: '';
        z-index: -1;
        pointer-events: none;
        position: absolute;
        top: 50%;
        right: 50%;
        bottom: 50%;
        left: 50%;
        background-color: var(--color-cannes);
        border-radius: .6rem;
        // border: .1rem solid var(--color-rouen);
        transform-origin: center center;
        opacity: 0.5;
        animation: 1800ms scale_up $easin forwards;

      }

      @for $i from 1 to 100{
        &.delay#{$i}{
          > *{
            animation-delay: #{600 + (200 * $i)}ms;
          }

          &:before{
            animation-delay: #{200 * $i}ms;
          }
        }
      }
    }
  }

  &.is-changing{
    .transition-fade{
      opacity: 0;
      filter: blur(5px);
      animation: var(--animation-duration) animate_in forwards;

      @for $i from 1 to 100{
        &.delay#{$i}{
          animation-delay: #{200 * $i}ms;
        }
      }

    }
    :is(.layer, #lateralBar){
        opacity: 0 !important;
        visibility: hidden !important;
    }

  }

  &.is-animating{
    .transition-fade {
      opacity: 0;
      filter: blur(0px);
      animation: var(--animation-duration) animate_out forwards;

      @for $i from 1 to 100{
        &.delay#{$i}{
          animation-delay: 0;
        }
      }
    }

    :is(.layer, #lateralBar){
        opacity: 0 !important;
        visibility: hidden !important;
    }

    &.is-leaving{
      .transition-fade{
        animation-delay: 0ms !important;
      }
    }
  }
}
