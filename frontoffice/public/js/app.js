!function(t,e){t&&!t.getElementById("livereloadscript")&&((e=t.createElement("script")).async=1,e.src="//"+(self.location.host||"localhost").split(":")[0]+":9000/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e))}(self.document),function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return i(this,n)}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=function e(){t(this,e),this.url=null,this.controller=null,this.action=null,this.params=null},h=[{re:/home/,action:"home@PagesController"},{re:/about/,action:"about@PagesController"},{re:/contact/,action:"contact@PagesController"},{re:/project-([0-9]+)-([0-9a-z-]+)/i,action:"project@ProjectsController"}],y=function(){function e(){t(this,e),this._routes=h}return n(e,[{key:"getFragment",value:function(){var t=window.location.href.match(/#(.*)$/);return t?t[1]:""}},{key:"check",value:function(t){for(var e=0,n=this._routes.length;e<n;e++){var r=this._routes[e],o=this.getFragment().match(r.re);if(o){var i=c(r.action.split("@"),2),a=i[0],u=i[1];t.controller=u,t.action=a,t.params=o.slice(1);break}}}}]),e}(),d=function(){function e(){t(this,e),console.log("ErrorsController loaded")}return n(e,[{key:"e404",value:function(){}}]),e}(),p=function(){function e(){t(this,e),null===sessionStorage.getItem("data")&&fetch("./public/js/export.json").then((function(t){return t.text().then((function(t){sessionStorage.setItem("data",t)}))})),this._data=sessionStorage.getItem("data")}return n(e,[{key:"get",value:function(){return this._data}}]),e}(),v=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(i,e);var r=a(i);function i(e){return t(this,i),r.call(this,e)}return n(i,[{key:"project",value:function(t,e){console.log(">> ",this._data.find((function(e){return e.id===parseInt(t,10)})))}}]),i}((function e(n){t(this,e),(new p).get(),this._data=JSON.parse(sessionStorage.getItem("data"))})),m=function(){function e(n){t(this,e),console.log("pagesController loaded",n)}return n(e,[{key:"home",value:function(){console.log("home")}},{key:"about",value:function(){}},{key:"contact",value:function(){}}]),e}(),g=Object.freeze({__proto__:null,ErrorsController:d,ProjectsController:v,PagesController:m}),b=function(){function e(){t(this,e),this._request=new f}return n(e,[{key:"run",value:function(){var t=this,e=new y;["load","hashchange"].forEach((function(n){window.addEventListener(n,(function(n){try{t._request.controller=null,t._request.params=null,t._request.action=null,t._request.url=window.location.hash,e.check(t._request);var r=t._load();r[t._request.action].apply(r,u(t._request.params))}catch(n){t._errors(n)}}))}))}},{key:"_load",value:function(){try{return new g[this._request.controller](this._request)}catch(t){this._errors(t)}}},{key:"_errors",value:function(t){new d(this._request).e404()}},{key:"navigateTo",value:function(t){return t=t||"",window.location.href="".concat(window.location.href.replace(/#(.*)$/,""),"#").concat(t),this}}]),e}();!function(){document.querySelector("section").style.height="2000px";var t=function(){return{w:window.innerWidth,h:window.innerHeight}},e=function(){var e=t(),n=document.querySelector("header"),r=["height:".concat(e.h,"px")];n.style=r.join(";")};e(),window.addEventListener("resize",e);var n=setTimeout((function(){var e=document.querySelector("nav");document.querySelector(".global").style.top="".concat(t().h-e.getBoundingClientRect().height,"px"),clearTimeout(n)}),800),r=new b;r.run(),""===window.location.hash&&r.navigateTo("/home")}()}();
